/*! For license information please see main.9cb4cf20.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,k(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",k(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(x);else{var t=r(u);null!==t&&R(k,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(k,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,S=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?_():(E=!1,S=null)}}else E=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){v(A,0)};function O(e){S=e,E||(E=!0,_())}function R(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,R(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,j=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(de){var t=de.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(le){var r=le}Reflect.construct(e,[],t)}else{try{t.call()}catch(le){r=le}e.call(t.prototype)}else{try{throw Error()}catch(le){r=le}e()}}catch(le){if(le&&r&&"string"===typeof le.stack){for(var i=le.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(de){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach(function(e){ke.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]})});var Ee=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ae=null,Pe=null;function De(e){if(e=Ii(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),Ne(e.stateNode,e.type,t))}}function Oe(e){Ae?Pe?Pe.push(e):Pe=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=Pe;if(Pe=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Me(e,t){return e(t)}function Le(){}var je=!1;function Fe(e,t,n){if(je)return e(t,n);je=!0;try{return Me(e,t,n)}finally{je=!1,(null!==Ae||null!==Pe)&&(Le(),Re())}}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var ze=!1;if(u)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ce){ze=!1}function qe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,s,a,o,l){He=!1,We=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(s(188))}function Ze(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?tt(e):null}function tt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=tt(e);if(null!==t)return t;e=e.sibling}return null}var nt=i.unstable_scheduleCallback,rt=i.unstable_cancelCallback,it=i.unstable_shouldYield,st=i.unstable_requestPaint,at=i.unstable_now,ot=i.unstable_getCurrentPriorityLevel,lt=i.unstable_ImmediatePriority,ct=i.unstable_UserBlockingPriority,ut=i.unstable_NormalPriority,ht=i.unstable_LowPriority,dt=i.unstable_IdlePriority,ft=null,pt=null;var mt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(gt(e)/vt|0)|0},gt=Math.log,vt=Math.LN2;var yt=64,bt=4194304;function wt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=wt(o):0!==(s&=a)&&(r=wt(s))}else 0!==(a=n&~i)?r=wt(a):0!==s&&(r=wt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-mt(t)),r|=e[n],t&=~i;return r}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=yt;return 0===(4194240&(yt<<=1))&&(yt=64),e}function St(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-mt(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Nt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Pt,Dt,Ot,Rt,Mt=!1,Lt=[],jt=null,Ut=null,Ft=null,Vt=new Map,zt=new Map,Bt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Wt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&Pt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=Ci(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Rt(e.priority,function(){Dt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&Pt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ce=r,n.target.dispatchEvent(r),Ce=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Yt(){Mt=!1,null!==jt&&Gt(jt)&&(jt=null),null!==Ut&&Gt(Ut)&&(Ut=null),null!==Ft&&Gt(Ft)&&(Ft=null),Vt.forEach(Qt),zt.forEach(Qt)}function Xt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function $t(e){function t(t){return Xt(t,e)}if(0<Lt.length){Xt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Xt(jt,e),null!==Ut&&Xt(Ut,e),null!==Ft&&Xt(Ft,e),Vt.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Kt(n),null===n.blockedOn&&Bt.shift()}var Jt=w.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=It,s=Jt.transition;Jt.transition=null;try{It=1,nn(e,t,n,r)}finally{It=i,Jt.transition=s}}function tn(e,t,n,r){var i=It,s=Jt.transition;Jt.transition=null;try{It=4,nn(e,t,n,r)}finally{It=i,Jt.transition=s}}function nn(e,t,n,r){if(Zt){var i=sn(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Ht(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Wt(jt,e,t,n,r,i),!0;case"dragenter":return Ut=Wt(Ut,e,t,n,r,i),!0;case"mouseover":return Ft=Wt(Ft,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vt.set(s,Wt(Vt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zt.set(s,Wt(zt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ht(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==i;){var s=Ii(i);if(null!==s&&At(s),null===(s=sn(e,t,n,r))&&Zr(e,t,r,rn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function sn(e,t,n,r){if(rn=null,null!==(e=Ci(e=Ie(r))))if(null===(t=Xe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case lt:return 1;case ct:return 4;case ut:case ht:return 16;case dt:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn,gn,vn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(yn),wn=j({},yn,{view:0,detail:0}),kn=pn(wn),xn=j({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vn&&(vn&&"mousemove"===e.type?(mn=e.screenX-vn.screenX,gn=e.screenY-vn.screenY):gn=mn=0,vn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),_n=pn(xn),En=pn(j({},xn,{dataTransfer:0})),Sn=pn(j({},wn,{relatedTarget:0})),Tn=pn(j({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=j({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=pn(Cn),Nn=pn(j({},yn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Rn(){return On}var Mn=j({},wn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=pn(Mn),jn=pn(j({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(j({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Fn=pn(j({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=j({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=pn(Vn),Bn=[9,13,27,32],qn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var Wn=u&&"TextEvent"in window&&!Hn,Kn=u&&(!qn||Hn&&8<Hn&&11>=Hn),Gn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){Oe(r),0<(t=ti(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ni(e)))return e}function sr(e,t){if("change"===e)return t}var ar=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",hr),nr=tr=null)}function hr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,Ie(e)),Fe(rr,t)}}function dr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",hr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function vr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yr(r)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(ge){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function _r(e){var t=kr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wr(n.ownerDocument.documentElement,n)){if(null!==r&&xr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=br(n,s);var a=br(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Er=u&&"documentMode"in document&&11>=document.documentMode,Sr=null,Tr=null,Cr=null,Ir=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==Sr||Sr!==Q(r)||("selectionStart"in(r=Sr)&&xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&vr(Cr,r)||(Cr=r,0<(r=ti(Tr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Dr={},Or={};function Rr(e){if(Dr[e])return Dr[e];if(!Pr[e])return e;var t,n=Pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Dr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);var Mr=Rr("animationend"),Lr=Rr("animationiteration"),jr=Rr("animationstart"),Ur=Rr("transitionend"),Fr=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Fr.set(e,t),l(t,[e])}for(var Br=0;Br<Vr.length;Br++){var qr=Vr[Br];zr(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}zr(Mr,"onAnimationEnd"),zr(Lr,"onAnimationIteration"),zr(jr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(s(198));var u=We;He=!1,We=null,Ke||(Ke=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Qr(e,t){var n=t[Ei];void 0===n&&(n=t[Ei]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Xr]){e[Xr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Wr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xr]||(t[Xr]=!0,Yr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(an(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ci(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Fe(function(){var r=s,i=Ie(n),a=[];e:{var o=Fr.get(e);if(void 0!==o){var l=bn,c=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=Sn;break;case"focusout":c="blur",l=Sn;break;case"beforeblur":case"afterblur":l=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Mr:case Lr:case jr:l=Tn;break;case Ur:l=Fn;break;case"scroll":l=kn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&u.push(ei(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Ce||!(c=n.relatedTarget||n.fromElement)||!Ci(c)&&!c[_i])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ci(c):null)&&(c!==(h=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=_n,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ni(l),f=null==c?o:Ni(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,Ci(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=d;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)d=ni(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=ni(u),d=ni(d)}u=null}else u=null;null!==l&&ri(a,o,l,u,!1),null!==c&&null!==h&&ri(a,h,c,u,!0)}if("select"===(l=(o=r?Ni(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=sr;else if(Zn(o))if(ar)g=mr;else{g=fr;var v=dr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?Ni(r):window,e){case"focusin":(Zn(v)||"true"===v.contentEditable)&&(Sr=v,Tr=r,Cr=null);break;case"focusout":Cr=Tr=Sr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Nr(a,n,i);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":Nr(a,n,i)}var y;if(qn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Yn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Kn&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=un()):(ln="value"in(on=i)?on.value:on.textContent,$n=!0)),0<(v=ti(r,b)).length&&(b=new Nn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Xn(n))&&(b.data=y))),(y=Wn?function(e,t){switch(e){case"compositionend":return Xn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!qn&&Yn(e,t)?(e=un(),cn=ln=on=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new Nn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Gr(a,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(ei(e,s,i)),null!=(s=Ve(e,t))&&r.push(ei(e,s,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ve(n,s))&&a.unshift(ei(n,l,o)):i||null!=(l=Ve(n,s))&&a.push(ei(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ii=/\r\n?/g,si=/\u0000|\uFFFD/g;function ai(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(si,"")}function oi(e,t,n){if(t=ai(t),ai(e)!==t&&n)throw Error(s(425))}function li(){}var ci=null,ui=null;function hi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var di="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:di;function gi(e){setTimeout(function(){throw e})}function vi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),ki="__reactFiber$"+wi,xi="__reactProps$"+wi,_i="__reactContainer$"+wi,Ei="__reactEvents$"+wi,Si="__reactListeners$"+wi,Ti="__reactHandles$"+wi;function Ci(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_i]||n[ki]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bi(e);null!==e;){if(n=e[ki])return n;e=bi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[ki]||e[_i])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[xi]||null}var Pi=[],Di=-1;function Oi(e){return{current:e}}function Ri(e){0>Di||(e.current=Pi[Di],Pi[Di]=null,Di--)}function Mi(e,t){Di++,Pi[Di]=e.current,e.current=t}var Li={},ji=Oi(Li),Ui=Oi(!1),Fi=Li;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Ri(Ui),Ri(ji)}function qi(e,t,n){if(ji.current!==Li)throw Error(s(168));Mi(ji,t),Mi(Ui,n)}function Hi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Fi=ji.current,Mi(ji,e),Mi(Ui,Ui.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Hi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Ri(Ui),Ri(ji),Mi(ji,e)):Ri(Ui),Mi(Ui,n)}var Gi=null,Qi=!1,Yi=!1;function Xi(e){null===Gi?Gi=[e]:Gi.push(e)}function $i(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=It;try{var n=Gi;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(ae){throw null!==Gi&&(Gi=Gi.slice(e+1)),nt(lt,$i),ae}finally{It=t,Yi=!1}}return null}var Ji=[],Zi=0,es=null,ts=0,ns=[],rs=0,is=null,ss=1,as="";function os(e,t){Ji[Zi++]=ts,Ji[Zi++]=es,es=e,ts=t}function ls(e,t,n){ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,is=e;var r=ss;e=as;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var s=32-mt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ss=1<<32-mt(t)+i|n<<i|r,as=s+e}else ss=1<<s|n<<i|r,as=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function us(e){for(;e===es;)es=Ji[--Zi],Ji[Zi]=null,ts=Ji[--Zi],Ji[Zi]=null;for(;e===is;)is=ns[--rs],ns[rs]=null,as=ns[--rs],ns[rs]=null,ss=ns[--rs],ns[rs]=null}var hs=null,ds=null,fs=!1,ps=null;function ms(e,t){var n=Vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,hs=e,ds=yi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,hs=e,ds=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==is?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,hs=e,ds=null,!0);default:return!1}}function vs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ys(e){if(fs){var t=ds;if(t){var n=t;if(!gs(e,t)){if(vs(e))throw Error(s(418));t=yi(n.nextSibling);var r=hs;t&&gs(e,t)?ms(r,n):(e.flags=-4097&e.flags|2,fs=!1,hs=e)}}else{if(vs(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,hs=e}}}function bs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hs=e}function ws(e){if(e!==hs)return!1;if(!fs)return bs(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hi(e.type,e.memoizedProps)),t&&(t=ds)){if(vs(e))throw ks(),Error(s(418));for(;t;)ms(e,t),t=yi(t.nextSibling)}if(bs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ds=yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ds=null}}else ds=hs?yi(e.stateNode.nextSibling):null;return!0}function ks(){for(var e=ds;e;)e=yi(e.nextSibling)}function xs(){ds=hs=null,fs=!1}function _s(e){null===ps?ps=[e]:ps.push(e)}var Es=w.ReactCurrentBatchConfig;function Ss(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cs(e){return(0,e._init)(e._payload)}function Is(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Cs(s)===t.type)?((r=i(t,n.props)).ref=Ss(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ss(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ss(e,null,t),n.return=e,n;case x:return(t=Gc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Hc(t,e.mode,n,null)).return=e,t;Ts(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ts(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ts(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),fs&&os(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return fs&&os(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),fs&&os(i,m),c}function g(i,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),fs&&os(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return fs&&os(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),fs&&os(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Cs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ss(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((s=Hc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=qc(a.type,a.key,a.props,null,r.mode,l)).ref=Ss(r,s,a),l.return=r,r=l)}return o(r);case x:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Gc(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(M(a))return g(r,s,a,l);Ts(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Kc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ns=Is(!0),As=Is(!1),Ps=Oi(null),Ds=null,Os=null,Rs=null;function Ms(){Rs=Os=Ds=null}function Ls(e){var t=Ps.current;Ri(Ps),e._currentValue=t}function js(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Ds=e,Rs=Os=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Io=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(Rs!==e)if(e={context:e,memoizedValue:t,next:null},null===Os){if(null===Ds)throw Error(s(308));Os=e,Ds.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Vs=null;function zs(e){null===Vs?Vs=[e]:Vs.push(e)}function Bs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,zs(t)):(n.next=i.next,i.next=n),t.interleaved=n,qs(e,r)}function qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Hs=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qs(e,n)}return null===(i=r.interleaved)?(t.next=t,zs(r)):(t.next=i.next,i.next=t),r.interleaved=t,qs(e,n)}function Ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var i=e.updateQueue;Hs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Hs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Wl|=a,e.lanes=a,e.memoizedState=h}}function Js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Zs={},ea=Oi(Zs),ta=Oi(Zs),na=Oi(Zs);function ra(e){if(e===Zs)throw Error(s(174));return e}function ia(e,t){switch(Mi(na,t),Mi(ta,e),Mi(ea,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ri(ea),Mi(ea,t)}function sa(){Ri(ea),Ri(ta),Ri(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=fe(t,e.type);t!==n&&(Mi(ta,e),Mi(ea,n))}function oa(e){ta.current===e&&(Ri(ea),Ri(ta))}var la=Oi(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ha(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var da=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,wa=0,ka=0;function xa(){throw Error(s(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?oo:lo,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(s(301));a+=1,va=ga=null,t.updateQueue=null,da.current=co,e=n(r,i)}while(ba)}if(da.current=ao,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ca(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ia(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ma.lanes|=h,Wl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Wl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);gr(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Da(e,t){var n=ma,r=Ca(),i=t(),a=!gr(r.memoizedState,i);if(a&&(r.memoizedState=i,Io=!0),r=r.queue,Ha(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Fa(9,Ra.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(s(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&ja(e)}function Ma(e,t,n){return n(function(){La(t)&&ja(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(ge){return!0}}function ja(e){var t=qs(e,1);null!==t&&hc(t,e,1,-1)}function Ua(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,ma,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ca().memoizedState}function za(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ca();r=void 0===r?null:r;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}ma.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function qa(e,t){return za(8390656,8,e,t)}function Ha(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ka(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Io=!0),e.memoizedState=n):(gr(n,t)||(n=Et(),ma.lanes|=n,Wl|=n,e.baseState=!0),t)}function Za(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{It=n,fa.transition=r}}function eo(){return Ca().memoizedState}function to(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))io(t,n);else if(null!==(n=Bs(e,t,n,r))){hc(n,e,r,cc()),so(n,t,r)}}function no(e,t,n){var r=uc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,gr(o,a)){var l=t.interleaved;return null===l?(i.next=i,zs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(le){}null!==(n=Bs(e,t,i,r))&&(hc(n,e,r,i=cc()),so(n,t,r))}}function ro(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function io(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var ao={readContext:Fs,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},oo={readContext:Fs,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Fs,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Ua,useDebugValue:Ya,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Za.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ul)throw Error(s(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Ul.identifierPrefix;if(fs){var n=as;t=":"+t+"R"+(n=(ss&~(1<<32-mt(ss)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ka++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Fs,useCallback:Xa,useContext:Fs,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:$a,useReducer:Na,useRef:Va,useState:function(){return Na(Ia)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Ca(),ga.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1},co={readContext:Fs,useCallback:Xa,useContext:Fs,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:$a,useReducer:Aa,useRef:Va,useState:function(){return Aa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ca();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(hc(t,e,i,r),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(hc(t,e,i,r),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),i=Gs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qs(e,i,r))&&(hc(t,e,r,n),Ys(t,e,r))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!vr(n,r)||!vr(i,s))}function mo(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Fs(s):(i=zi(t)?Fi:ji.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ws(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Fs(s):(s=zi(t)?Fi:ji.current,i.context=Vi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ho(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),$s(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(ve){i="\nError generating stack: "+ve.message+"\n"+ve.stack}return{value:e,source:t,stack:i,digest:null}}function bo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wo(e,t){try{console.error(t.value)}catch(de){setTimeout(function(){throw de})}}var ko="function"===typeof WeakMap?WeakMap:Map;function xo(e,t,n){(n=Gs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),wo(0,t)},n}function _o(e,t,n){(n=Gs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){wo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Eo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ko;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function So(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function To(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Gs(-1,1)).tag=2,Qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Co=w.ReactCurrentOwner,Io=!1;function No(e,t,n,r){t.child=null===e?As(t,null,n,r):Ns(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=Ea(e,t,n,r,s,i),n=Sa(),null===e||Io?(fs&&n&&cs(t),t.flags|=1,No(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Po(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:vr)(a,r)&&e.ref===t.ref)return Zo(e,t,i)}return t.flags|=1,(e=Bc(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(vr(s,r)&&e.ref===t.ref){if(Io=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Zo(e,t,i);0!==(131072&e.flags)&&(Io=!0)}}return Mo(e,t,n,r,i)}function Oo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Bl,zl),zl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Bl,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Mi(Bl,zl),zl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Mi(Bl,zl),zl|=r;return No(e,t,i,n),t.child}function Ro(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,n,r,i){var s=zi(n)?Fi:ji.current;return s=Vi(t,s),Us(t,i),n=Ea(e,t,n,r,s,i),r=Sa(),null===e||Io?(fs&&r&&cs(t),t.flags|=1,No(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Lo(e,t,n,r,i){if(zi(n)){var s=!0;Wi(t)}else s=!1;if(Us(t,i),null===t.stateNode)Jo(e,t),mo(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fs(c):c=Vi(t,c=zi(n)?Fi:ji.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&go(t,a,r,c),Hs=!1;var d=t.memoizedState;a.state=d,$s(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ui.current||Hs?("function"===typeof u&&(ho(t,n,u,r),l=t.memoizedState),(o=Hs||po(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ks(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fs(l):l=Vi(t,l=zi(n)?Fi:ji.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&go(t,a,r,l),Hs=!1,d=t.memoizedState,a.state=d,$s(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ui.current||Hs?("function"===typeof f&&(ho(t,n,f,r),p=t.memoizedState),(c=Hs||po(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jo(e,t,n,r,s,i)}function jo(e,t,n,r,i,s){Ro(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ki(t,n,!1),Zo(e,t,s);r=t.stateNode,Co.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ns(t,e.child,null,s),t.child=Ns(t,null,o,s)):No(e,t,o,s),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ia(e,t.containerInfo)}function Fo(e,t,n,r,i){return xs(),_s(i),t.flags|=256,No(e,t,n,r),t.child}var Vo,zo,Bo,qo,Ho={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ko(e,t,n){var r,i=t.pendingProps,a=la.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Mi(la,1&a),null===e)return ys(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Wc(l,i,0,null),e=Hc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wo(n),t.memoizedState=Ho,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Qo(e,t,o,r=bo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Wc({mode:"visible",children:r.children},i,0,null),(a=Hc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ns(t,e.child,null,o),t.child.memoizedState=Wo(o),t.memoizedState=Ho,a);if(0===(1&t.mode))return Qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Qo(e,t,o,r=bo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Io||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,qs(e,i),hc(r,e,i,-1))}return Ec(),Qo(e,t,o,r=bo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ds=yi(i.nextSibling),hs=t,fs=!0,ps=null,null!==e&&(ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,ss=e.id,as=e.overflow,is=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Bc(r,o):(o=Hc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Wo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ho,i}return e=(o=e.child).sibling,i=Bc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Go(e,t){return(t=Wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qo(e,t,n,r){return null!==r&&_s(r),Ns(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),js(e.return,t,n)}function Xo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,s);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return zi(t.type)&&Bi(),tl(t),null;case 3:return r=t.stateNode,sa(),Ri(Ui),Ri(ji),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(mc(ps),ps=null))),zo(e,t),tl(t),null;case 5:oa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Bo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return tl(t),null}if(e=ra(ea.current),ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ki]=t,r[xi]=a,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Hr.length;i++)Qr(Hr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":X(r,a),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",r);break;case"textarea":ie(r,a),Qr("invalid",r)}for(var l in Se(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=he(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ki]=t,e[xi]=r,Vo(e,t,!1,!1),t.stateNode=e;e:{switch(l=Te(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hr.length;i++)Qr(Hr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(a in Se(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?_e(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&me(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ye(e,u):"number"===typeof u&&ye(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Qr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ra(na.current),ra(ea.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(a=r.nodeValue!==n)&&null!==(e=hs))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ki]=t,t.stateNode=r}return tl(t),null;case 13:if(Ri(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==ds&&0!==(1&t.mode)&&0===(128&t.flags))ks(),xs(),t.flags|=98560,a=!1;else if(a=ws(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[ki]=t}else xs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),a=!1}else null!==ps&&(mc(ps),ps=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===ql&&(ql=3):Ec())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return sa(),zo(e,t),null===e&&$r(t.stateNode.containerInfo),tl(t),null;case 10:return Ls(t.type._context),tl(t),null;case 19:if(Ri(la),null===(a=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)el(a,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,el(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&at()>$l&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fs)return tl(t),null}else 2*at()-a.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=at(),t.sibling=null,n=la.current,Mi(la,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(us(t),t.tag){case 1:return zi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Ri(Ui),Ri(ji),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(Ri(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));xs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ri(la),null;case 4:return sa(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}Vo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(){},Bo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in Se(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,sl=!1,al="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(ge){Oc(e,t,ge)}else n.current=null}function cl(e,t,n){try{n()}catch(ge){Oc(e,t,ge)}}var ul=!1;function hl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&cl(t,n,s)}i=i.next}while(i!==r)}}function dl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ki],delete t[xi],delete t[Ei],delete t[Si],delete t[Ti])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var bl=null,wl=!1;function kl(e,t,n){for(n=n.child;null!==n;)xl(e,t,n),n=n.sibling}function xl(e,t,n){if(pt&&"function"===typeof pt.onCommitFiberUnmount)try{pt.onCommitFiberUnmount(ft,n)}catch(be){}switch(n.tag){case 5:sl||ll(n,t);case 6:var r=bl,i=wl;bl=null,kl(e,t,n),wl=i,null!==(bl=r)&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?vi(e.parentNode,n):1===e.nodeType&&vi(e,n),$t(e)):vi(bl,n.stateNode));break;case 4:r=bl,i=wl,bl=n.stateNode.containerInfo,wl=!0,kl(e,t,n),bl=r,wl=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&cl(n,t,a),i=i.next}while(i!==r)}kl(e,t,n);break;case 1:if(!sl&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(be){Oc(n,t,be)}kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,kl(e,t,n),sl=r):kl(e,t,n);break;default:kl(e,t,n)}}function _l(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,wl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===bl)throw Error(s(160));xl(a,o,i),bl=null,wl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(le){Oc(i,t,le)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(El(t,e),Tl(e),4&r){try{hl(3,e,e.return),dl(3,e)}catch(oe){Oc(e,e.return,oe)}try{hl(5,e,e.return)}catch(oe){Oc(e,e.return,oe)}}break;case 1:El(t,e),Tl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(El(t,e),Tl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var i=e.stateNode;try{ye(i,"")}catch(oe){Oc(e,e.return,oe)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),Te(l,o);var u=Te(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?_e(i,d):"dangerouslySetInnerHTML"===h?me(i,d):"children"===h?ye(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[xi]=a}catch(oe){Oc(e,e.return,oe)}}break;case 6:if(El(t,e),Tl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(oe){Oc(e,e.return,oe)}}break;case 3:if(El(t,e),Tl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(oe){Oc(e,e.return,oe)}break;case 4:default:El(t,e),Tl(e);break;case 13:El(t,e),Tl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Xl=at())),4&r&&_l(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(u=sl)||h,El(t,e),sl=u):El(t,e),Tl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(ol=e,h=e.child;null!==h;){for(d=ol=h;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:hl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(oe){Oc(r,n,oe)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){Al(d);continue}}null!==p?(p.return=f,ol=p):Al(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=xe("display",o))}catch(oe){Oc(e,e.return,oe)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(oe){Oc(e,e.return,oe)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:El(t,e),Tl(e),4&r&&_l(e);case 21:}}function Tl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ye(i,""),r.flags&=-33),yl(e,gl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;vl(e,gl(e),a);break;default:throw Error(s(161))}}catch(et){Oc(e,e.return,et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,n){ol=e,Il(e,t,n)}function Il(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var i=ol,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||il;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sl;o=il;var c=sl;if(il=a,(sl=l)&&!c)for(ol=i;null!==ol;)l=(a=ol).child,22===a.tag&&null!==a.memoizedState?Pl(i):null!==l?(l.return=a,ol=l):Pl(i);for(;null!==s;)ol=s,Il(s,t,n),s=s.sibling;ol=i,il=o,sl=c}Nl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ol=s):Nl(e)}}function Nl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||dl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Js(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$t(d)}}}break;default:throw Error(s(163))}sl||512&t.flags&&fl(t)}catch(f){Oc(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Pl(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(et){Oc(t,n,et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(et){Oc(t,i,et)}}var s=t.return;try{fl(t)}catch(et){Oc(t,s,et)}break;case 5:var a=t.return;try{fl(t)}catch(et){Oc(t,a,et)}}}catch(et){Oc(t,t.return,et)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Dl,Ol=Math.ceil,Rl=w.ReactCurrentDispatcher,Ml=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,jl=0,Ul=null,Fl=null,Vl=0,zl=0,Bl=Oi(0),ql=0,Hl=null,Wl=0,Kl=0,Gl=0,Ql=null,Yl=null,Xl=0,$l=1/0,Jl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ic=0,sc=0,ac=null,oc=-1,lc=0;function cc(){return 0!==(6&jl)?at():-1!==oc?oc:oc=at()}function uc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Vl?Vl&-Vl:null!==Es.transition?(0===lc&&(lc=Et()),lc):0!==(e=It)?e:e=void 0===(e=window.event)?16:an(e.type)}function hc(e,t,n,r){if(50<sc)throw sc=0,ac=null,Error(s(185));Tt(e,n,r),0!==(2&jl)&&e===Ul||(e===Ul&&(0===(2&jl)&&(Kl|=n),4===ql&&gc(e,Vl)),dc(e,r),1===n&&0===jl&&0===(1&t.mode)&&($l=at()+500,Qi&&$i()))}function dc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-mt(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=xt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=kt(e,e===Ul?Vl:0);if(0===r)null!==n&&rt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&rt(n),1===t)0===e.tag?function(e){Qi=!0,Xi(e)}(vc.bind(null,e)):Xi(vc.bind(null,e)),mi(function(){0===(6&jl)&&$i()}),n=null;else{switch(Nt(r)){case 1:n=lt;break;case 4:n=ct;break;case 16:default:n=ut;break;case 536870912:n=dt}n=Uc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&jl))throw Error(s(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=kt(e,e===Ul?Vl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var i=jl;jl|=2;var a=_c();for(Ul===e&&Vl===t||(Jl=null,$l=at()+500,kc(e,t));;)try{Cc();break}catch(be){xc(e,be)}Ms(),Rl.current=a,jl=i,null!==Fl?t=0:(Ul=null,Vl=0,t=ql)}if(0!==t){if(2===t&&(0!==(i=_t(e))&&(r=i,t=pc(e,i))),1===t)throw n=Hl,kc(e,0),gc(e,r),dc(e,at()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Sc(e,r))&&(0!==(a=_t(e))&&(r=a,t=pc(e,a))),1===t))throw n=Hl,kc(e,0),gc(e,r),dc(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Yl,Jl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Xl+500-at())){if(0!==kt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=di(Ac.bind(null,e,Yl,Jl),t);break}Ac(e,Yl,Jl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-mt(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=di(Ac.bind(null,e,Yl,Jl),r);break}Ac(e,Yl,Jl);break;default:throw Error(s(329))}}}return dc(e,at()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(kc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Yl,Yl=n,null!==t&&mc(t)),e}function mc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function gc(e,t){for(t&=~Gl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&jl))throw Error(s(327));Pc();var t=kt(e,0);if(0===(1&t))return dc(e,at()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=_t(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Hl,kc(e,0),gc(e,t),dc(e,at()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Yl,Jl),dc(e,at()),null}function yc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&($l=at()+500,Qi&&$i())}}function bc(e){null!==rc&&0===rc.tag&&0===(6&jl)&&Pc();var t=jl;jl|=1;var n=Ll.transition,r=It;try{if(Ll.transition=null,It=1,e)return e()}finally{It=r,Ll.transition=n,0===(6&(jl=t))&&$i()}}function wc(){zl=Bl.current,Ri(Bl)}function kc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:sa(),Ri(Ui),Ri(ji),ha();break;case 5:oa(r);break;case 4:sa();break;case 13:case 19:Ri(la);break;case 10:Ls(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Ul=e,Fl=e=Bc(e.current,null),Vl=zl=t,ql=0,Hl=null,Gl=Kl=Wl=0,Yl=Ql=null,null!==Vs){for(t=0;t<Vs.length;t++)if(null!==(r=(n=Vs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Vs=null}return e}function xc(e,t){for(;;){var n=Fl;try{if(Ms(),da.current=ao,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,wa=0,Ml.current=null,null===n||null===n.return){ql=1,Hl=t,Fl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Vl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=So(o);if(null!==p){p.flags&=-257,To(p,o,l,0,t),1&p.mode&&Eo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Eo(a,u,t),Ec();break e}c=Error(s(426))}else if(fs&&1&l.mode){var v=So(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),To(v,o,l,0,t),_s(yo(c,l));break e}}a=c=yo(c,l),4!==ql&&(ql=2),null===Ql?Ql=[a]:Ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Xs(a,xo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tc||!tc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Xs(a,_o(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function _c(){var e=Rl.current;return Rl.current=ao,null===e?ao:e}function Ec(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Ul||0===(268435455&Wl)&&0===(268435455&Kl)||gc(Ul,Vl)}function Sc(e,t){var n=jl;jl|=2;var r=_c();for(Ul===e&&Vl===t||(Jl=null,kc(e,t));;)try{Tc();break}catch(ae){xc(e,ae)}if(Ms(),jl=n,Rl.current=r,null!==Fl)throw Error(s(261));return Ul=null,Vl=0,ql}function Tc(){for(;null!==Fl;)Ic(Fl)}function Cc(){for(;null!==Fl&&!it();)Ic(Fl)}function Ic(e){var t=Dl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Fl=t,Ml.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,zl)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return ql=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===ql&&(ql=5)}function Ac(e,t,n){var r=It,i=Ll.transition;try{Ll.transition=null,It=1,function(e,t,n,r){do{Pc()}while(null!==rc);if(0!==(6&jl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ul&&(Fl=Ul=null,Vl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Uc(ut,function(){return Pc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=It;It=1;var l=jl;jl|=4,Ml.current=null,function(e,t){if(ci=Zt,xr(e=kr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ue){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ue){Oc(t,t.return,Ue)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),Sl(n,e),_r(ui),Zt=!!ci,ui=ci=null,e.current=n,Cl(n,e,i),st(),jl=l,It=o,Ll.transition=a}else e.current=n;if(nc&&(nc=!1,rc=e,ic=i),a=e.pendingLanes,0===a&&(tc=null),function(e){if(pt&&"function"===typeof pt.onCommitFiberRoot)try{pt.onCommitFiberRoot(ft,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),dc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ic)&&0!==e.tag&&Pc(),a=e.pendingLanes,0!==(1&a)?e===ac?sc++:(sc=0,ac=e):sc=0,$i()}(e,t,n,r)}finally{Ll.transition=i,It=r}return null}function Pc(){if(null!==rc){var e=Nt(ic),t=Ll.transition,n=It;try{if(Ll.transition=null,It=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ic=0,0!==(6&jl))throw Error(s(331));var i=jl;for(jl|=4,ol=e.current;null!==ol;){var a=ol,o=a.child;if(0!==(16&ol.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ol=u;null!==ol;){var h=ol;switch(h.tag){case 0:case 11:case 15:hl(8,h,a)}var d=h.child;if(null!==d)d.return=h,ol=d;else for(;null!==ol;){var f=(h=ol).sibling,p=h.return;if(pl(h),h===u){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ol=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ol=o;else e:for(;null!==ol;){if(0!==(2048&(a=ol).flags))switch(a.tag){case 0:case 11:case 15:hl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ol=y;break e}ol=a.return}}var b=e.current;for(ol=b;null!==ol;){var w=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,ol=w;else e:for(o=b;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(x){Oc(l,l.return,x)}if(l===o){ol=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,ol=k;break e}ol=l.return}}if(jl=i,$i(),pt&&"function"===typeof pt.onPostCommitFiberRoot)try{pt.onPostCommitFiberRoot(ft,e)}catch(x){}r=!0}return r}finally{It=n,Ll.transition=t}}return!1}function Dc(e,t,n){e=Qs(e,t=xo(0,t=yo(n,t),1),1),t=cc(),null!==e&&(Tt(e,1,t),dc(e,t))}function Oc(e,t,n){if(3===e.tag)Dc(e,e,n);else for(;null!==t;){if(3===t.tag){Dc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Qs(t,e=_o(t,e=yo(n,e),1),1),e=cc(),null!==t&&(Tt(t,1,e),dc(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(Vl&n)===n&&(4===ql||3===ql&&(130023424&Vl)===Vl&&500>at()-Xl?kc(e,0):Gl|=n),dc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=bt,0===(130023424&(bt<<=1))&&(bt=4194304)));var n=cc();null!==(e=qs(e,t))&&(Tt(e,t,n),dc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Mc(e,n)}function Uc(e,t){return nt(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,r){return new Fc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)zc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Hc(n.children,i,a,t);case E:o=8,i|=8;break;case S:return(e=Vc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=Vc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Vc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Wc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case C:o=9;break e;case I:o=11;break e;case P:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hc(e,t,n,r){return(e=Vc(7,e,r,t)).lanes=n,e}function Wc(e,t,n,r){return(e=Vc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,i,s,a,o,l){return e=new Qc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Vc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ws(s),e}function Xc(e){if(!e)return Li;e:{if(Xe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(zi(n))return Hi(e,n,t)}return t}function $c(e,t,n,r,i,s,a,o,l){return(e=Yc(n,r,!0,e,0,s,0,o,l)).context=Xc(null),n=e.current,(s=Gs(r=cc(),i=uc(n))).callback=void 0!==t&&null!==t?t:null,Qs(n,s,i),e.current.lanes=i,Tt(e,i,r),dc(e,r),e}function Jc(e,t,n,r){var i=t.current,s=cc(),a=uc(i);return n=Xc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Gs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qs(i,t,a))&&(hc(e,i,a,s),Ys(e,i,a)),a}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Dl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Io=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Io=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),xs();break;case 5:aa(t);break;case 1:zi(t.type)&&Wi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mi(Ps,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(Mi(la,1&la.current),null!==(e=Zo(e,t,n))?e.sibling:null);Mi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,n)}return Zo(e,t,n)}(e,t,n);Io=0!==(131072&e.flags)}else Io=!1,fs&&0!==(1048576&t.flags)&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jo(e,t),e=t.pendingProps;var i=Vi(t,ji.current);Us(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(r)?(a=!0,Wi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ws(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,vo(t,r,e,n),t=jo(null,t,r,!0,a,n)):(t.tag=0,fs&&a&&cs(t),No(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=uo(r,e),i){case 0:t=Mo(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=Po(null,t,r,uo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:e:{if(Uo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ks(e,t),$s(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n,i=yo(Error(s(423)),t));break e}if(r!==i){t=Fo(e,t,r,n,i=yo(Error(s(424)),t));break e}for(ds=yi(t.stateNode.containerInfo.firstChild),hs=t,fs=!0,ps=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xs(),r===i){t=Zo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ys(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,hi(r,i)?o=null:null!==a&&hi(r,a)&&(t.flags|=32),Ro(e,t),No(e,t,o,n),t.child;case 6:return null===e&&ys(t),null;case 13:return Ko(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ns(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mi(Ps,r._currentValue),r._currentValue=o,null!==a)if(gr(a.value,o)){if(a.children===i.children&&!Ui.current){t=Zo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Gs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),js(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),js(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}No(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),r=r(i=Fs(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return i=uo(r=t.type,t.pendingProps),Po(e,t,r,i=uo(r.type,i),n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),Jo(e,t),t.tag=1,zi(r)?(e=!0,Wi(t)):e=!1,Us(t,n),mo(t,r,i),vo(t,r,i,n),jo(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return Oo(e,t,n)}throw Error(s(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Zc(a);o.call(e)}}Jc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Zc(a);s.call(e)}}var a=$c(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=a,e[_i]=a.current,$r(8===e.nodeType?e.parentNode:e),bc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=l,e[_i]=l.current,$r(8===e.nodeType?e.parentNode:e),bc(function(){Jc(t,l,n,r)}),l}(n,t,e,i,r);return Zc(a)}iu.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jc(e,t,null,null)},iu.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc(function(){Jc(null,e,null,null)}),t[_i]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Kt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wt(t.pendingLanes);0!==n&&(Ct(t,1|n),dc(t,at()),0===(6&jl)&&($l=at()+500,$i()))}break;case 13:bc(function(){var t=qs(e,1);if(null!==t){var n=cc();hc(t,e,1,n)}}),tu(e,1)}},Pt=function(e){if(13===e.tag){var t=qs(e,134217728);if(null!==t)hc(t,e,134217728,cc());tu(e,134217728)}},Dt=function(e){if(13===e.tag){var t=uc(e),n=qs(e,t);if(null!==n)hc(n,e,t,cc());tu(e,t)}},Ot=function(){return It},Rt=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=yc,Le=bc;var cu={usingClientEntryPoint:!1,Events:[Ii,Ni,Ai,Oe,Re,yc]},uu={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{ft=du.inject(hu),pt=du}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!su(e))throw Error(s(299));var n=!1,r="",i=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,i),e[_i]=t.current,$r(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!su(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,a,o),e[_i]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iu(t)},t.render=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(bc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[_i]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(ae){if("object"===typeof window)return window}}();var r=n(43),i=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function h(e){u(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function d(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var f={};function p(){return f}function m(e,t){var n,r,i,s,a,o,l,c;u(1,arguments);var f=p(),m=d(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:f.weekStartsOn)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=h(e),v=g.getDay(),y=(v<m?7:0)+v-m;return g.setDate(g.getDate()-y),g.setHours(0,0,0,0),g}function g(e){if(u(1,arguments),!function(e){return u(1,arguments),e instanceof Date||"object"===s(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=h(e);return!isNaN(Number(t))}function v(e,t){return u(2,arguments),function(e,t){u(2,arguments);var n=h(e).getTime(),r=d(t);return new Date(n+r)}(e,-d(t))}function y(e){u(1,arguments);var t=h(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function b(e){u(1,arguments);var t=h(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=y(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=y(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function w(e){u(1,arguments);var t=h(e),n=y(t).getTime()-function(e){u(1,arguments);var t=b(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),y(n)}(t).getTime();return Math.round(n/6048e5)+1}function k(e,t){var n,r,i,s,a,o,l,c;u(1,arguments);var f=p(),m=d(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:f.weekStartsOn)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=h(e),v=g.getUTCDay(),y=(v<m?7:0)+v-m;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}function x(e,t){var n,r,i,s,a,o,l,c;u(1,arguments);var f=h(e),m=f.getUTCFullYear(),g=p(),v=d(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:g.firstWeekContainsDate)&&void 0!==r?r:null===(l=g.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(m+1,0,v),y.setUTCHours(0,0,0,0);var b=k(y,t),w=new Date(0);w.setUTCFullYear(m,0,v),w.setUTCHours(0,0,0,0);var x=k(w,t);return f.getTime()>=b.getTime()?m+1:f.getTime()>=x.getTime()?m:m-1}function _(e,t){u(1,arguments);var n=h(e),r=k(n,t).getTime()-function(e,t){var n,r,i,s,a,o,l,c;u(1,arguments);var h=p(),f=d(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),m=x(e,t),g=new Date(0);return g.setUTCFullYear(m,0,f),g.setUTCHours(0,0,0,0),k(g,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function E(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const S={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return E("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):E(n+1,2)},d:function(e,t){return E(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return E(e.getUTCHours()%12||12,t.length)},H:function(e,t){return E(e.getUTCHours(),t.length)},m:function(e,t){return E(e.getUTCMinutes(),t.length)},s:function(e,t){return E(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return E(Math.floor(r*Math.pow(10,n-3)),t.length)}};var T="midnight",C="noon",I="morning",N="afternoon",A="evening",P="night",D={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return S.y(e,t)},Y:function(e,t,n,r){var i=x(e,r),s=i>0?i:1-i;return"YY"===t?E(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):E(s,t.length)},R:function(e,t){return E(b(e),t.length)},u:function(e,t){return E(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return E(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return E(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return S.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return E(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=_(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):E(i,t.length)},I:function(e,t,n){var r=w(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):E(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):S.d(e,t)},D:function(e,t,n){var r=function(e){u(1,arguments);var t=h(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):E(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return E(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return E(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return E(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?C:0===i?T:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?A:i>=12?N:i>=4?I:P,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return S.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):S.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):E(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):E(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):S.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):S.s(e,t)},S:function(e,t){return S.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return R(i);case"XXXX":case"XX":return M(i);default:return M(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return R(i);case"xxxx":case"xx":return M(i);default:return M(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+O(i,":");default:return"GMT"+M(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+O(i,":");default:return"GMT"+M(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return E(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return E((r._originalDate||e).getTime(),t.length)}};function O(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var a=t||"";return n+String(i)+a+E(s,2)}function R(e,t){return e%60===0?(e>0?"-":"+")+E(Math.abs(e)/60,2):M(e,t)}function M(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+E(Math.floor(i/60),2)+n+E(i%60,2)}const L=D;var j=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},U=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},F={p:U,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return j(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",j(i,t)).replace("{{time}}",U(s,t))}};const V=F;var z=["D","DD"],B=["YY","YYYY"];function q(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var H={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const W=function(e,t,n){var r,i=H[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function K(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var G={date:K({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:K({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:K({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Y(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function X(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var a,o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(o.length)}}}var $;const J={code:"en-US",formatDistance:W,formatLong:G,formatRelative:function(e,t,n,r){return Q[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:($={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match($.matchPattern);if(!n)return null;var r=n[0],i=e.match($.parsePattern);if(!i)return null;var s=$.valueCallback?$.valueCallback(i[0]):i[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:e.slice(r.length)}}),era:X({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:X({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:X({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:X({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,te=/^'([^]*?)'?$/,ne=/''/g,re=/[a-zA-Z]/;function ie(e,t,n){var r,i,s,a,o,l,c,f,m,y,b,w,k,x,_,E,S,T;u(2,arguments);var C=String(t),I=p(),N=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:I.locale)&&void 0!==r?r:J,A=d(null!==(s=null!==(a=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(f=c.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==o?o:I.firstWeekContainsDate)&&void 0!==a?a:null===(m=I.locale)||void 0===m||null===(y=m.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==s?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=d(null!==(b=null!==(w=null!==(k=null!==(x=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==x?x:null===n||void 0===n||null===(_=n.locale)||void 0===_||null===(E=_.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==k?k:I.weekStartsOn)&&void 0!==w?w:null===(S=I.locale)||void 0===S||null===(T=S.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==b?b:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var D=h(e);if(!g(D))throw new RangeError("Invalid time value");var O=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(D),R=v(D,O),M={firstWeekContainsDate:A,weekStartsOn:P,locale:N,_originalDate:D};return C.match(ee).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,V[t])(e,N.formatLong):e}).join("").match(Z).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(te);if(!t)return e;return t[1].replace(ne,"'")}(r);var s,a=L[i];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(s=r,-1===B.indexOf(s))||q(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==z.indexOf(e)}(r)||q(r,t,String(e)),a(R,r,N.localize,M);if(i.match(re))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}function se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let ae={data:""},oe=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ae,le=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ce=/\/\*[^]*?\*\/|  +/g,ue=/\n+/g,he=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?he(a,s):s+"{"+he(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=he(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=he.p?he.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},de={},fe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+fe(e[n]);return t}return e},pe=(e,t,n,r,i)=>{let s=fe(e),a=de[s]||(de[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!de[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=le.exec(e.replace(ce,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ue," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ue," ").trim();return r[0]})(e);de[a]=he(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&de.g?de.g:null;return n&&(de.g=de[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(de[a],t,r,o),a};function me(e){let t=this||{},n=e.call?e(t.p):e;return pe(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":he(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,oe(t.target),t.g,t.o,t.k)}me.bind({g:1});let ge,ve,ye,be=me.bind({k:1});function we(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:ve&&ve()},o),n.o=/ *go\d+/.test(l),o.className=me.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),ye&&c[0]&&ye(o),ge(c,o)}return t?t(i):i}}var ke,xe,_e,Ee,Se,Te,Ce,Ie,Ne,Ae,Pe,De,Oe,Re,Me,Le,je=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Ue=(()=>{let e=0;return()=>(++e).toString()})(),Fe=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ve=(e,t)=>{switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:n}=t;return Ve(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+i}))})}},ze=[],Be={toasts:[],pausedAt:void 0},qe=e=>{Be=Ve(Be,e),ze.forEach(e=>{e(Be)})},He={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},We=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Ue()})}(t,e,n);return qe({type:2,toast:r}),r.id},Ke=(e,t)=>We("blank")(e,t);Ke.error=We("error"),Ke.success=We("success"),Ke.loading=We("loading"),Ke.custom=We("custom"),Ke.dismiss=e=>{qe({type:3,toastId:e})},Ke.remove=e=>qe({type:4,toastId:e}),Ke.promise=(e,t,n)=>{let r=Ke.loading(t.loading,c(c({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?je(t.success,e):void 0;return i?Ke.success(i,c(c({id:r},n),null==n?void 0:n.success)):Ke.dismiss(r),e}).catch(e=>{let i=t.error?je(t.error,e):void 0;i?Ke.error(i,c(c({id:r},n),null==n?void 0:n.error)):Ke.dismiss(r)}),e};var Ge=(e,t)=>{qe({type:1,toast:{id:e,height:t}})},Qe=()=>{qe({type:5,time:Date.now()})},Ye=new Map,Xe=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(Be),i=(0,r.useRef)(Be);(0,r.useEffect)(()=>(i.current!==Be&&n(Be),ze.push(n),()=>{let e=ze.indexOf(n);e>-1&&ze.splice(e,1)}),[]);let s=t.toasts.map(t=>{var n,r,i;return c(c(c(c({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||He[t.type],style:c(c(c({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return c(c({},t),{},{toasts:s})}(e);(0,r.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Ke.dismiss(t.id),n);t.visible&&Ke.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let i=(0,r.useCallback)(()=>{n&&qe({type:6,time:Date.now()})},[n]),s=(0,r.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=n||{},a=t.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return(0,r.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ye.has(e))return;let n=setTimeout(()=>{Ye.delete(e),qe({type:4,toastId:e})},t);Ye.set(e,n)}(e.id,e.removeDelay);else{let t=Ye.get(e.id);t&&(clearTimeout(t),Ye.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Ge,startPause:Qe,endPause:i,calculateOffset:s}}},$e=be(ke||(ke=se(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Je=be(xe||(xe=se(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ze=be(_e||(_e=se(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),et=we("div")(Ee||(Ee=se(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",$e,Je,e=>e.secondary||"#fff",Ze),tt=be(Se||(Se=se(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),nt=we("div")(Te||(Te=se(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",tt),rt=be(Ce||(Ce=se(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),it=be(Ie||(Ie=se(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),st=we("div")(Ne||(Ne=se(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",rt,it,e=>e.secondary||"#fff"),at=we("div")(Ae||(Ae=se(["\n  position: absolute;\n"]))),ot=we("div")(Pe||(Pe=se(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),lt=be(De||(De=se(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ct=we("div")(Oe||(Oe=se(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),lt),ut=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:s}=t;return void 0!==n?"string"==typeof n?r.createElement(ct,null,n):n:"blank"===i?null:r.createElement(ot,null,r.createElement(nt,c({},s)),"loading"!==i&&r.createElement(at,null,"error"===i?r.createElement(et,c({},s)):r.createElement(st,c({},s))))},ht=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),dt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),ft=we("div")(Re||(Re=se(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),pt=we("div")(Me||(Me=se(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),mt=r.memo(e=>{let{toast:t,position:n,style:i,children:s}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Fe()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ht(n),dt(n)];return{animation:t?"".concat(be(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(be(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=r.createElement(ut,{toast:t}),l=r.createElement(pt,c({},t.ariaProps),je(t.message,t));return r.createElement(ft,{className:t.className,style:c(c(c({},a),i),t.style)},"function"==typeof s?s({icon:o,message:l}):r.createElement(r.Fragment,null,o,l))});!function(e,t,n,r){he.p=t,ge=e,ve=n,ye=r}(r.createElement);var gt=e=>{let{id:t,className:n,style:i,onHeightUpdate:s,children:a}=e,o=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return r.createElement("div",{ref:o,className:n,style:i},a)},vt=me(Le||(Le=se(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),yt=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:s,children:a,containerStyle:o,containerClassName:l}=e,{toasts:u,handlers:h}=Xe(i);return r.createElement("div",{id:"_rht_toaster",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(e=>{let i=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:Fe()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,h.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return r.createElement(gt,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?vt:"",style:o},"custom"===e.type?je(e.message,e):a?a(e):r.createElement(mt,{toast:e,position:i}))}))},bt=Ke;var wt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kt=["color","size","strokeWidth","absoluteStrokeWidth","children"];var xt=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:u}=n,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,kt);return(0,r.createElement)("svg",c(c({ref:i},wt),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},h),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(u)?u:[u])||[]]);var d});return n.displayName="".concat(e),n};const _t=xt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Et=xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),St=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tt=xt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ct=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},It={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ct(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Nt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Nt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const At=function(e){return function(e){const t=Ct(e);return It.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pt=function(e){try{return It.decodeString(e,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function Dt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ot=()=>{try{return Dt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/mst-com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ae){return}const t=e&&Pt(e[1]);return t&&JSON.parse(t)})()}catch(ae){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ae))}},Rt=e=>{var t,n;return null===(n=null===(t=Ot())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Mt=()=>{var e;return null===(e=Ot())||void 0===e?void 0:e.config},Lt=e=>{var t;return null===(t=Ot())||void 0===t?void 0:t["_".concat(e)]};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ut(e){return e.endsWith(".cloudworkstations.dev")}async function Ft(e){return(await fetch(e,{credentials:"include"})).ok}const Vt={};let zt=!1;function Bt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ut(window.location.host)||Vt[e]===t||Vt[e]||zt)return;function n(e){return"__firebase__banner__".concat(e)}Vt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vt))Vt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{zt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ht(){var e;const t=null===(e=Ot())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ae){return!1}}function Wt(){return!Ht()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kt(){try{return"object"===typeof indexedDB}catch(ae){return!1}}class Gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Yt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Gt(n,s,t)}}const Yt=/\{\$([^}]+)}/g;function Xt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($t(n)&&$t(s)){if(!Xt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $t(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function en(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nn),void 0===r.error&&(r.error=nn),void 0===r.complete&&(r.complete=nn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ae){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ae){"undefined"!==typeof console&&console.error&&console.error(ae)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function rn(e){return e&&e._delegate?e._delegate:e}class sn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const an="[DEFAULT]";class on{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new jt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ae){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ae){if(r)return null;throw ae}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(ae){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ae){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===an?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new on(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cn=[];var un;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(un||(un={}));const hn={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},dn=un.INFO,fn={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},pn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class mn{constructor(e){this.name=e,this._logLevel=dn,this._logHandler=pn,this._userLogHandler=null,cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...t),this._logHandler(this,un.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...t),this._logHandler(this,un.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.INFO,...t),this._logHandler(this,un.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.WARN,...t),this._logHandler(this,un.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.ERROR,...t),this._logHandler(this,un.ERROR,...t)}}let gn,vn;const yn=new WeakMap,bn=new WeakMap,wn=new WeakMap,kn=new WeakMap,xn=new WeakMap;let _n={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vn||(vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cn(this),n),Tn(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tn(e.apply(Cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Cn(this),t,...r);return wn.set(s,t.sort?t.sort():[t]),Tn(s)}}function Sn(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(bn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});bn.set(e,t)}(e),t=e,(gn||(gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,_n):e);var t}function Tn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Tn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&yn.set(t,e)}).catch(()=>{}),xn.set(t,e),t}(e);if(kn.has(e))return kn.get(e);const t=Sn(e);return t!==e&&(kn.set(e,t),xn.set(t,e)),t}const Cn=e=>xn.get(e);const In=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],An=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(An.get(t))return An.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!In.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return An.set(t,s),s}_n=(e=>c(c({},e),{},{get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(_n);class Dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const On="@firebase/app",Rn="0.13.1",Mn=new mn("@firebase/app"),Ln="@firebase/app-compat",jn="@firebase/analytics-compat",Un="@firebase/analytics",Fn="@firebase/app-check-compat",Vn="@firebase/app-check",zn="@firebase/auth",Bn="@firebase/auth-compat",qn="@firebase/database",Hn="@firebase/data-connect",Wn="@firebase/database-compat",Kn="@firebase/functions",Gn="@firebase/functions-compat",Qn="@firebase/installations",Yn="@firebase/installations-compat",Xn="@firebase/messaging",$n="@firebase/messaging-compat",Jn="@firebase/performance",Zn="@firebase/performance-compat",er="@firebase/remote-config",tr="@firebase/remote-config-compat",nr="@firebase/storage",rr="@firebase/storage-compat",ir="@firebase/firestore",sr="@firebase/ai",ar="@firebase/firestore-compat",or="firebase",lr="[DEFAULT]",cr={[On]:"fire-core",[Ln]:"fire-core-compat",[Un]:"fire-analytics",[jn]:"fire-analytics-compat",[Vn]:"fire-app-check",[Fn]:"fire-app-check-compat",[zn]:"fire-auth",[Bn]:"fire-auth-compat",[qn]:"fire-rtdb",[Hn]:"fire-data-connect",[Wn]:"fire-rtdb-compat",[Kn]:"fire-fn",[Gn]:"fire-fn-compat",[Qn]:"fire-iid",[Yn]:"fire-iid-compat",[Xn]:"fire-fcm",[$n]:"fire-fcm-compat",[Jn]:"fire-perf",[Zn]:"fire-perf-compat",[er]:"fire-rc",[tr]:"fire-rc-compat",[nr]:"fire-gcs",[rr]:"fire-gcs-compat",[ir]:"fire-fst",[ar]:"fire-fst-compat",[sr]:"fire-vertex","fire-js":"fire-js",[or]:"fire-js-all"},ur=new Map,hr=new Map,dr=new Map;function fr(e,t){try{e.container.addComponent(t)}catch(ae){Mn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ae)}}function pr(e){const t=e.name;if(dr.has(t))return Mn.debug("There were multiple attempts to register component ".concat(t,".")),!1;dr.set(t,e);for(const n of ur.values())fr(n,e);for(const n of hr.values())fr(n,e);return!0}function mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const vr=new Qt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const br="11.9.0";function wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:lr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Mt()),!n)throw vr.create("no-options");const s=ur.get(i);if(s){if(Xt(n,s.options)&&Xt(r,s.config))return s;throw vr.create("duplicate-app",{appName:i})}const a=new ln(i);for(const l of dr.values())a.addComponent(l);const o=new yr(n,r,a);return ur.set(i,o),o}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr;const t=ur.get(e);if(!t&&e===lr&&Mt())return wr();if(!t)throw vr.create("no-app",{appName:e});return t}function xr(e,t,n){var r;let i=null!==(r=cr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mn.warn(e.join(" "))}pr(new sn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const _r="firebase-heartbeat-store";let Er=null;function Sr(){return Er||(Er=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Tn(a.result),e.oldVersion,e.newVersion,Tn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(_r)}catch(ae){console.warn(ae)}}}).catch(e=>{throw vr.create("idb-open",{originalErrorMessage:e.message})})),Er}async function Tr(e,t){try{const n=(await Sr()).transaction(_r,"readwrite"),r=n.objectStore(_r);await r.put(t,Cr(e)),await n.done}catch(ae){if(ae instanceof Gt)Mn.warn(ae.message);else{const t=vr.create("idb-set",{originalErrorMessage:null===ae||void 0===ae?void 0:ae.message});Mn.warn(t.message)}}}function Cr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ir{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ar(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ae){Mn.warn(ae)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Pr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=At(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ae){return Mn.warn(ae),""}}}function Nr(){return(new Date).toISOString().substring(0,10)}class Ar{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Sr()).transaction(_r),n=await t.objectStore(_r).get(Cr(e));return await t.done,n}catch(ae){if(ae instanceof Gt)Mn.warn(ae.message);else{const t=vr.create("idb-get",{originalErrorMessage:null===ae||void 0===ae?void 0:ae.message});Mn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pr(e){return At(JSON.stringify({version:2,heartbeats:e})).length}var Dr;Dr="",pr(new sn("platform-logger",e=>new Dn(e),"PRIVATE")),pr(new sn("heartbeat",e=>new Ir(e),"PRIVATE")),xr(On,Rn,Dr),xr(On,Rn,"esm2017"),xr("fire-js","");var Or,Rr,Mr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Lr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Rr=Lr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Or=Lr.Integer=r}).apply("undefined"!==typeof Mr?Mr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var jr,Ur,Fr,Vr,zr,Br,qr,Hr,Wr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Wr&&Wr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(de){_(de)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function D(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(de){}return e}();function M(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(ve){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,O);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;k(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,D),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ue extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(e){D.call(this),this.h=e,this.g={}}h(he,D);var fe=[];function pe(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}he.prototype.N=function(){he.aa.N.call(this),pe(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=i.JSON.stringify,ye=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function we(){}function ke(e){return e.h||(e.h=e.i())}function xe(){}we.prototype.h=null;var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ee(){O.call(this,"d")}function Se(){O.call(this,"c")}h(Ee,O),h(Se,O);var Te={},Ce=null;function Ie(){return Ce=Ce||new ne}function Ne(e){O.call(this,Te.La,e)}function Ae(e){const t=Ie();re(t,new Ne(t))}function Pe(e,t){O.call(this,Te.STAT_EVENT,e),this.stat=t}function De(e){const t=Ie();re(t,new Pe(t,e))}function Oe(e,t){O.call(this,Te.Ma,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Me(){this.g=!0}function Le(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return me(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Te.La="serverreachability",h(Ne,O),Te.STAT_EVENT="statevent",h(Pe,O),Te.Ma="timingevent",h(Oe,O),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var je,Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ve(){}function ze(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new he(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}h(Ve,we),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},je=new Ve;var qe={},He={};function We(e,t,n){e.L=1,e.v=vt(dt(t)),e.m=n,e.P=!0,Ke(e,null)}function Ke(e,t){e.F=Date.now(),Ye(e),e.A=dt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Be,e.g=yn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ue(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(fe[0]=i.toString()),i=fe);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ae(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ge(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?qe:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Ye(e){e.S=Date.now()+e.I,Xe(e,e.I)}function Xe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Re(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Je(e){0==e.j.G||e.J||fn(e.j,e)}function Ze(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,pe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(le){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dn(n),tn(n)}cn(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Re(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(le){}n.ca=void 0}}else mn(n,11)}else if((e.K||n.g==e)&&dn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),a.K){ot(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&($e(o),Ye(o)),r.g=a}else ln(r);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):en(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ae()}catch(le){}}ze.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Xt(e)?t.j():this.Y(e)},ze.prototype.Y=function(e){try{if(e==this.g)e:{const d=Xt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||$t(this.g)))){this.J||4!=d||7==t||Ae(),$e(this);var n=this.g.Z();this.X=n;t:if(Ge(this)){var r=$t(this.g);e="";var s=r.length,a=4==Xt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ze(this),Je(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,De(12),Ze(this),Je(this);break e}Le(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Qe(this,o),e==He){4==d&&(this.s=4,De(14),n=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}if(e==qe){this.s=4,De(15),Le(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Le(this.i,this.l,e,null),et(this,e)}if(Ge(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),un(h),h.M=!0,De(11))}}else Le(this.i,this.l,o,"[Invalid Chunked Response]"),Ze(this),Je(this)}else Le(this.i,this.l,o,null),et(this,o);4==d&&Ze(this),this.o&&!this.J&&(4==d?fn(this.j,this):(this.o=!1,Ye(this)))}else(function(e){const t={};e=(e.g&&2<=Xt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Ze(this),Je(this)}}}catch(d){}},ze.prototype.cancel=function(){this.J=!0,Ze(this)},ze.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ae(),De(17)),Ze(this),this.s=2,Je(this)):Xe(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ht){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new Tt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),pt(this,t[4]),this.l=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.h=!1,this.i=new Tt(null,this.h))}function dt(e){return new ht(e)}function ft(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(It(this,t),At(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,Et)),e.i=new Tt(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ht.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,kt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?_t:xt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,St)),e.join("")};var kt=/[#\/\?@]/g,xt=/[#\?:]/g,_t=/[#\?]/g,Et=/[#\?@]/g,St=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function It(e,t){Ct(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return Ct(e),t=Pt(e,t),e.g.has(t)}function At(e,t,n){It(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),d(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(ve){}}function Ot(){this.g=new be}function Rt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;a(e)&&(i=me(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(ae){throw t.push(r+"type="+encodeURIComponent("_badmap")),ae}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ut(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ft(e)}function Ft(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function Bt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Tt.prototype).add=function(e,t){Ct(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Ct(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ct(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ct(this),this.i=null,Nt(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(Mt,we),Mt.prototype.g=function(){return new Lt(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),h(Lt,ne),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ft(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ut(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ut(this):Ft(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ut(this))},e.Qa=function(e){this.g&&(this.response=e,Ut(this))},e.ga=function(){this.g&&Ut(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Bt,ne);var qt=/^https?$/i,Ht=["POST","PUT"];function Wt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Kt(e),Qt(e)}function Kt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Gt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Xt(e)||2!=e.Z()))if(e.u&&4==Xt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Xt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ut)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!qt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Xt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Kt(e)}}finally{Qt(e)}}}function Qt(e,t){if(e.g){Yt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ae){}}}function Yt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Xt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jt("baseRetryDelayMs",5e3,e),this.cb=Jt("retryDelaySeedMs",1e4,e),this.Wa=Jt("forwardChannelMaxRetries",2,e),this.wa=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Ot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function en(e){if(nn(e),3==e.G){var t=e.U++,n=dt(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),an(e,n),(t=new ze(e,e.j,t)).L=2,t.v=vt(dt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(ge){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ye(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.u&&(i.clearTimeout(e.u),e.u=null),dn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function rn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),I||(C(),I=!0),N.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=dt(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),an(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new ze(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=on(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),We(n,r,t)}function an(e,t){e.H&&y(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Rt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ln(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),I||(C(),I=!0),N.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Re(c(e.Fa,e),pn(e,e.v)),e.v++,!0)}function un(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new ze(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=dt(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),an(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(dt(t)),n.m=null,n.P=!0,Ke(n,e)}function dn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){dn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ie(),new Oe(r,n)),rn(e)}else ln(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Re(c(e.Ga,e,t),pn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ht(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),vt(r),t?function(e,t){const n=new Me;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Me;const n=new AbortController,r=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Dt(0,0,!1,t)})}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),gn(e),nn(e)}function gn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof ht?dt(n):new ht(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new ht(null);r&&ft(a,r),t&&(a.g=t),s&&pt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),an(e,r),r}function yn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Mt({eb:n})):new Bt(e.pa)).Ha(e.J),t}function bn(){}function wn(){}function kn(e,t){ne.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function xn(e){Ee.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){Se.call(this),this.status=1}function En(e){this.g=e}(e=Bt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():je.g(),this.v=this.o?ke(this.o):ke(je),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(ve){return void Wt(this,ve)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yt(this),this.u=!0,this.g.send(e),this.u=!1}catch(ve){Wt(this,ve)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},e.bb=function(){Gt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch(ce){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ce){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ze(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),k(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=dt(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),an(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vt(s)))+"&"+t:this.m&&zt(n,this.m,s)),at(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,We(i,n,null)):We(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||rt(this.h)||sn(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),tn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,tn(this),cn(this),De(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},wn.prototype.g=function(e,t){return new kn(e,t)},h(kn,ne),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){en(this.g)},kn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=me(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&rn(t)},kn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,kn.aa.N.call(this)},h(xn,Ee),h(_n,Se),h(En,bn),En.prototype.ua=function(){re(this.g,"a")},En.prototype.ta=function(e){re(this.g,new xn(e))},En.prototype.sa=function(e){re(this.g,new _n)},En.prototype.ra=function(){re(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Hr=Kr.createWebChannelTransport=function(){return new wn},qr=Kr.getStatEventTarget=function(){return Ie()},Br=Kr.Event=Te,zr=Kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,Vr=Kr.ErrorCode=Ue,Fe.COMPLETE="complete",Fr=Kr.EventType=Fe,xe.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ur=Kr.WebChannel=xe,Kr.FetchXmlHttpFactory=Mt,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,jr=Kr.XhrIo=Bt}).apply("undefined"!==typeof Wr?Wr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Gr="@firebase/firestore",Qr="4.7.17";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Xr="11.9.0";const $r=new mn("@firebase/firestore");function Jr(){return $r.logLevel}function Zr(e){if($r.logLevel<=un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ni);$r.debug("Firestore (".concat(Xr,"): ").concat(e),...i)}}function ei(e){if($r.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ni);$r.error("Firestore (".concat(Xr,"): ").concat(e),...i)}}function ti(e){if($r.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ni);$r.warn("Firestore (".concat(Xr,"): ").concat(e),...i)}}function ni(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(oe){return e}}function ri(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ii(e,r,n)}function ii(e,t,n){let r="FIRESTORE (".concat(Xr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ei(r),new Error(r)}function si(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||ii(t,i,r)}function ai(e,t){return e}const oi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class li extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ui{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class hi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class di{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fi{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){si(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ci,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Zr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Zr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ci)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Zr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(si("string"==typeof t.accessToken,31837,{l:t}),new ui(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return si(null===e||"string"==typeof e,2055,{h:e}),new Yr(e)}}class pi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new pi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vi{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){si(void 0===this.o,3512);const n=e=>{null!=e.error&&Zr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Zr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Zr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Zr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gi(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(si("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new gi(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function bi(){return new TextEncoder}class wi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=yi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ki(e,t){return e<t?-1:e>t?1:0}function xi(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return ki(r,i);{const s=bi(),a=Ei(s.encode(_i(e,n)),s.encode(_i(t,n)));return 0!==a?a:ki(r,i)}}n+=r>65535?2:1}return ki(e.length,t.length)}function _i(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ei(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ki(e[n],t[n]);return ki(e.length,t.length)}function Si(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ti=-62135596800,Ci=1e6;class Ii{static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ci);return new Ii(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new li(oi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new li(oi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ti)throw new li(oi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new li(oi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ci}_compareTo(e){return this.seconds===e.seconds?ki(this.nanoseconds,e.nanoseconds):ki(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ti;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ni{static fromTimestamp(e){return new Ni(e)}static min(){return new Ni(new Ii(0,0))}static max(){return new Ni(new Ii(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ai="__name__";class Pi{constructor(e,t,n){void 0===t?t=0:t>e.length&&ri(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ri(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Pi.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ki(e.length,t.length)}static compareSegments(e,t){const n=Pi.isNumericId(e),r=Pi.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):xi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class Di extends Pi{construct(e,t,n){return new Di(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new li(oi.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Di(e)}static emptyPath(){return new Di([])}}const Oi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends Pi{construct(e,t,n){return new Ri(e,t,n)}static isValidIdentifier(e){return Oi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ai}static keyField(){return new Ri([Ai])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new li(oi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new li(oi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new li(oi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new li(oi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ri(t)}static emptyPath(){return new Ri([])}}class Mi{constructor(e){this.path=e}static fromPath(e){return new Mi(Di.fromString(e))}static fromName(e){return new Mi(Di.fromString(e).popFirst(5))}static empty(){return new Mi(Di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Di.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mi(new Di(e.slice()))}}const Li=-1;class ji{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ji.UNKNOWN_ID=-1;function Ui(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ni.fromTimestamp(1e9===r?new Ii(n+1,0):new Ii(n,r));return new Vi(i,Mi.empty(),t)}function Fi(e){return new Vi(e.readTime,e.key,Li)}class Vi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vi(Ni.min(),Mi.empty(),Li)}static max(){return new Vi(Ni.max(),Mi.empty(),Li)}}function zi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Mi.comparator(e.documentKey,t.documentKey),0!==n?n:ki(e.largestBatchId,t.largestBatchId))}const Bi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Hi(e){if(e.code!==oi.FAILED_PRECONDITION||e.message!==Bi)throw e;Zr("LocalStore","Unexpectedly lost primary lease")}class Wi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ri(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wi((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wi?t:Wi.resolve(t)}catch(e){return Wi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wi.reject(t)}static resolve(e){return new Wi((t,n)=>{t(e)})}static reject(e){return new Wi((t,n)=>{n(e)})}static waitFor(e){return new Wi((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wi.resolve(!1);for(const n of e)t=t.next(e=>e?Wi.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wi((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Wi((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ki(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gi(e){return"IndexedDbTransactionError"===e.name}class Qi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qi.le=-1;const Yi=-1;function Xi(e){return null==e}function $i(e){return 0===e&&1/e==-1/0}function Ji(e){return"number"==typeof e&&Number.isInteger(e)&&!$i(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Zi="\x01";function es(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ns(t)),t=ts(e.get(n),t);return ns(t)}function ts(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Zi:n+="\x01\x11";break;default:n+=t}}return n}function ns(e){return e+Zi+"\x01"}const rs="remoteDocuments",is="owner",ss="mutationQueues",as="mutations";const os="documentMutations",ls="remoteDocumentsV14",cs="remoteDocumentGlobal",us="targets",hs="targetDocuments",ds="targetGlobal",fs="collectionParents",ps="clientMetadata",ms="bundles",gs="namedQueries",vs="indexConfiguration",ys="indexState",bs="indexEntries",ws="documentOverlays",ks="globals",xs=[ss,as,os,rs,us,is,ds,hs,ps,cs,fs,ms,gs],_s=[ss,as,os,ls,us,is,ds,hs,ps,cs,fs,ms,gs,ws],Es=_s,Ss=[...Es,vs,ys,bs];function Ts(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Is(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ns{constructor(e,t){this.comparator=e,this.root=t||Ps.EMPTY}insert(e,t){return new Ns(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new Ns(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new As(this.root,e,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new As(this.root,e,this.comparator,!0)}}class As{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ps.RED,this.left=null!=r?r:Ps.EMPTY,this.right=null!=i?i:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ps(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ps.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ri(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ri(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ri(27949);return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw ri(57766)}get value(){throw ri(16141)}get color(){throw ri(16727)}get left(){throw ri(29726)}get right(){throw ri(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ps(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ds{constructor(e){this.comparator=e,this.data=new Ns(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Os(this.data.getIterator())}getIteratorFrom(e){return new Os(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ds))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ds(this.comparator);return t.data=e,t}}class Os{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rs{constructor(e){this.fields=e,e.sort(Ri.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new Ds(Ri.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Si(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ms extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ms("Invalid base64 string: "+e):e}}(e);return new Ls(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ki(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ls.EMPTY_BYTE_STRING=new Ls("");const js=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(e){if(si(!!e,39018),"string"==typeof e){let t=0;const n=js.exec(e);if(si(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fs(e.seconds),nanos:Fs(e.nanos)}}function Fs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vs(e){return"string"==typeof e?Ls.fromBase64String(e):Ls.fromUint8Array(e)}const zs="server_timestamp",Bs="__type__",qs="__previous_value__",Hs="__local_write_time__";function Ws(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Bs])||void 0===n?void 0:n.stringValue)===zs}function Ks(e){const t=e.mapValue.fields[qs];return Ws(t)?Ks(t):t}function Gs(e){const t=Us(e.mapValue.fields[Hs].timestampValue);return new Ii(t.seconds,t.nanos)}class Qs{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ys="(default)";class Xs{constructor(e,t){this.projectId=e,this.database=t||Ys}static empty(){return new Xs("","")}get isDefaultDatabase(){return this.database===Ys}isEqual(e){return e instanceof Xs&&e.projectId===this.projectId&&e.database===this.database}}const $s="__type__",Js="__max__",Zs={mapValue:{fields:{__type__:{stringValue:Js}}}},ea="__vector__",ta="value";function na(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ws(e)?4:ba(e)?9007199254740991:va(e)?10:11:ri(28295,{value:e})}function ra(e,t){if(e===t)return!0;const n=na(e);if(n!==na(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gs(e).isEqual(Gs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Us(e.timestampValue),r=Us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vs(e.bytesValue).isEqual(Vs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fs(e.geoPointValue.latitude)===Fs(t.geoPointValue.latitude)&&Fs(e.geoPointValue.longitude)===Fs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fs(e.integerValue)===Fs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fs(e.doubleValue),r=Fs(t.doubleValue);return n===r?$i(n)===$i(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Si(e.arrayValue.values||[],t.arrayValue.values||[],ra);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ts(n)!==Ts(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ra(n[i],r[i])))return!1;return!0}(e,t);default:return ri(52216,{left:e})}}function ia(e,t){return void 0!==(e.values||[]).find(e=>ra(e,t))}function sa(e,t){if(e===t)return 0;const n=na(e),r=na(t);if(n!==r)return ki(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ki(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fs(e.integerValue||e.doubleValue),r=Fs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return aa(e.timestampValue,t.timestampValue);case 4:return aa(Gs(e),Gs(t));case 5:return xi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vs(e),r=Vs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ki(n[i],r[i]);if(0!==e)return e}return ki(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ki(Fs(e.latitude),Fs(t.latitude));return 0!==n?n:ki(Fs(e.longitude),Fs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return oa(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[ta])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ta])||void 0===r?void 0:r.arrayValue,u=ki((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:oa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Zs.mapValue&&t===Zs.mapValue)return 0;if(e===Zs.mapValue)return 1;if(t===Zs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=xi(r[a],s[a]);if(0!==e)return e;const t=sa(n[r[a]],i[s[a]]);if(0!==t)return t}return ki(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ri(23264,{Pe:n})}}function aa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ki(e,t);const n=Us(e),r=Us(t),i=ki(n.seconds,r.seconds);return 0!==i?i:ki(n.nanos,r.nanos)}function oa(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=sa(n[i],r[i]);if(e)return e}return ki(n.length,r.length)}function la(e){return ca(e)}function ca(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Us(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Mi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ca(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ca(e.fields[i]));return n+"}"}(e.mapValue):ri(61005,{value:e})}function ua(e){switch(na(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ks(e);return t?16+ua(t):16;case 5:return 2*e.stringValue.length;case 6:return Vs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ua(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Cs(e.fields,(e,n)=>{t+=e.length+ua(n)}),t}(e.mapValue);default:throw ri(13486,{value:e})}}function ha(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function da(e){return!!e&&"integerValue"in e}function fa(e){return!!e&&"arrayValue"in e}function pa(e){return!!e&&"nullValue"in e}function ma(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ga(e){return!!e&&"mapValue"in e}function va(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[$s])||void 0===n?void 0:n.stringValue)===ea}function ya(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ya(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ya(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ba(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Js}class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ga(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(t)}setAll(e){let t=Ri.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ya(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ga(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ga(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Cs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new wa(ya(this.value))}}function ka(e){const t=[];return Cs(e.fields,(e,n)=>{const r=new Ri([e]);if(ga(n)){const e=ka(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Rs(t)}class xa{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new xa(e,0,Ni.min(),Ni.min(),Ni.min(),wa.empty(),0)}static newFoundDocument(e,t,n,r){return new xa(e,1,t,Ni.min(),n,r,0)}static newNoDocument(e,t){return new xa(e,2,t,Ni.min(),Ni.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new xa(e,3,t,Ni.min(),Ni.min(),wa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ni.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ni.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class _a{constructor(e,t){this.position=e,this.inclusive=t}}function Ea(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Mi.comparator(Mi.fromName(a.referenceValue),n.key):sa(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Sa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ra(e.position[n],t.position[n]))return!1;return!0}class Ta{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ca(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ia{}class Na extends Ia{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ja(e,t,n):"array-contains"===t?new za(e,n):"in"===t?new Ba(e,n):"not-in"===t?new qa(e,n):"array-contains-any"===t?new Ha(e,n):new Na(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ua(e,n):new Fa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(sa(t,this.value)):null!==t&&na(this.value)===na(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ri(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Aa extends Ia{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Aa(e,t)}matches(e){return Pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Pa(e){return"and"===e.op}function Da(e){return Oa(e)&&Pa(e)}function Oa(e){for(const t of e.filters)if(t instanceof Aa)return!1;return!0}function Ra(e){if(e instanceof Na)return e.field.canonicalString()+e.op.toString()+la(e.value);if(Da(e))return e.filters.map(e=>Ra(e)).join(",");{const t=e.filters.map(e=>Ra(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ma(e,t){return e instanceof Na?function(e,t){return t instanceof Na&&e.op===t.op&&e.field.isEqual(t.field)&&ra(e.value,t.value)}(e,t):e instanceof Aa?function(e,t){return t instanceof Aa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ma(n,t.filters[r]),!0)}(e,t):void ri(19439)}function La(e){return e instanceof Na?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(la(e.value))}(e):e instanceof Aa?function(e){return e.op.toString()+" {"+e.getFilters().map(La).join(" ,")+"}"}(e):"Filter"}class ja extends Na{constructor(e,t,n){super(e,t,n),this.key=Mi.fromName(n.referenceValue)}matches(e){const t=Mi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ua extends Na{constructor(e,t){super(e,"in",t),this.keys=Va("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fa extends Na{constructor(e,t){super(e,"not-in",t),this.keys=Va("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Va(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Mi.fromName(e.referenceValue))}class za extends Na{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fa(t)&&ia(t.arrayValue,this.value)}}class Ba extends Na{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ia(this.value.arrayValue,t)}}class qa extends Na{constructor(e,t){super(e,"not-in",t)}matches(e){if(ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ia(this.value.arrayValue,t)}}class Ha extends Na{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ia(this.value.arrayValue,e))}}class Wa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Ie=null}}function Ka(e){return new Wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ga(e){const t=ai(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ra(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Xi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>la(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>la(e)).join(",")),t.Ie=e}return t.Ie}function Qa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ca(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ma(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sa(e.startAt,t.startAt)&&Sa(e.endAt,t.endAt)}function Ya(e){return Mi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $a(e,t,n,r,i,s,a,o){return new Xa(e,t,n,r,i,s,a,o)}function Ja(e){return new Xa(e)}function Za(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function eo(e){return null!==e.collectionGroup}function to(e){const t=ai(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ds(Ri.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Ta(r,n))}),e.has(Ri.keyField().canonicalString())||t.Ee.push(new Ta(Ri.keyField(),n))}return t.Ee}function no(e){const t=ai(e);return t.de||(t.de=ro(t,to(e))),t.de}function ro(e,t){if("F"===e.limitType)return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ta(e.field,t)});const n=e.endAt?new _a(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _a(e.startAt.position,e.startAt.inclusive):null;return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function io(e,t){const n=e.filters.concat([t]);return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function so(e,t,n){return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ao(e,t){return Qa(no(e),no(t))&&e.limitType===t.limitType}function oo(e){return"".concat(Ga(no(e)),"|lt:").concat(e.limitType)}function lo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>La(e)).join(", "),"]")),Xi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>la(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>la(e)).join(",")),"Target(".concat(t,")")}(no(e)),"; limitType=").concat(e.limitType,")")}function co(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of to(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ea(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,to(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ea(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,to(e),t))}(e,t)}function uo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ho(e){return(t,n)=>{let r=!1;for(const i of to(e)){const e=fo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function fo(e,t,n){const r=e.field.isKeyField()?Mi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sa(r,i):ri(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ri(19790,{direction:e.dir})}}class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Is(this.inner)}size(){return this.innerSize}}const mo=new Ns(Mi.comparator);function go(){return mo}const vo=new Ns(Mi.comparator);function yo(){let e=vo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bo(e){let t=vo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function wo(){return xo()}function ko(){return xo()}function xo(){return new po(e=>e.toString(),(e,t)=>e.isEqual(t))}const _o=new Ns(Mi.comparator),Eo=new Ds(Mi.comparator);function So(){let e=Eo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const To=new Ds(ki);function Co(){return To}function Io(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$i(t)?"-0":t}}function No(e){return{integerValue:""+e}}function Ao(e,t){return Ji(t)?No(t):Io(e,t)}class Po{constructor(){this._=void 0}}function Do(e,t,n){return e instanceof Mo?function(e,t){const n={fields:{[Bs]:{stringValue:zs},[Hs]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ws(t)&&(t=Ks(t)),t&&(n.fields[qs]=t),{mapValue:n}}(n,t):e instanceof Lo?jo(e,t):e instanceof Uo?Fo(e,t):function(e,t){const n=Ro(e,t),r=zo(n)+zo(e.Re);return da(n)&&da(e.Re)?No(r):Io(e.serializer,r)}(e,t)}function Oo(e,t,n){return e instanceof Lo?jo(e,t):e instanceof Uo?Fo(e,t):n}function Ro(e,t){return e instanceof Vo?function(e){return da(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Mo extends Po{}class Lo extends Po{constructor(e){super(),this.elements=e}}function jo(e,t){const n=Bo(t);for(const r of e.elements)n.some(e=>ra(e,r))||n.push(r);return{arrayValue:{values:n}}}class Uo extends Po{constructor(e){super(),this.elements=e}}function Fo(e,t){let n=Bo(t);for(const r of e.elements)n=n.filter(e=>!ra(e,r));return{arrayValue:{values:n}}}class Vo extends Po{constructor(e,t){super(),this.serializer=e,this.Re=t}}function zo(e){return Fs(e.integerValue||e.doubleValue)}function Bo(e){return fa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qo{constructor(e,t){this.field=e,this.transform=t}}class Ho{constructor(e,t){this.version=e,this.transformResults=t}}class Wo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wo}static exists(e){return new Wo(void 0,e)}static updateTime(e){return new Wo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ko(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Go{}function Qo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new il(e.key,Wo.none()):new Zo(e.key,e.data,Wo.none());{const n=e.data,r=wa.empty();let i=new Ds(Ri.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new el(e.key,r,new Rs(i.toArray()),Wo.none())}}function Yo(e,t,n){e instanceof Zo?function(e,t,n){const r=e.value.clone(),i=nl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof el?function(e,t,n){if(!Ko(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xo(e,t,n,r){return e instanceof Zo?function(e,t,n,r){if(!Ko(e.precondition,t))return n;const i=e.value.clone(),s=rl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof el?function(e,t,n,r){if(!Ko(e.precondition,t))return n;const i=rl(e.fieldTransforms,r,t),s=t.data;return s.setAll(tl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ko(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $o(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ro(r.transform,e||null);null!=i&&(null===n&&(n=wa.empty()),n.set(r.field,i))}return n||null}function Jo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Si(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lo&&t instanceof Lo||e instanceof Uo&&t instanceof Uo?Si(e.elements,t.elements,ra):e instanceof Vo&&t instanceof Vo?ra(e.Re,t.Re):e instanceof Mo&&t instanceof Mo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zo extends Go{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class el extends Go{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function nl(e,t,n){const r=new Map;si(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Oo(a,o,n[i]))}return r}function rl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Do(e,s,t))}return r}class il extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sl extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class al{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ko();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Qo(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ni.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),So())}isEqual(e){return this.batchId===e.batchId&&Si(this.mutations,e.mutations,(e,t)=>Jo(e,t))&&Si(this.baseMutations,e.baseMutations,(e,t)=>Jo(e,t))}}class ol{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){si(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=_o;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ol(e,t,n,r)}}class ll{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class cl{constructor(e,t){this.count=e,this.unchangedNames=t}}var ul,hl;function dl(e){switch(e){case oi.OK:return ri(64938);case oi.CANCELLED:case oi.UNKNOWN:case oi.DEADLINE_EXCEEDED:case oi.RESOURCE_EXHAUSTED:case oi.INTERNAL:case oi.UNAVAILABLE:case oi.UNAUTHENTICATED:return!1;case oi.INVALID_ARGUMENT:case oi.NOT_FOUND:case oi.ALREADY_EXISTS:case oi.PERMISSION_DENIED:case oi.FAILED_PRECONDITION:case oi.ABORTED:case oi.OUT_OF_RANGE:case oi.UNIMPLEMENTED:case oi.DATA_LOSS:return!0;default:return ri(15467,{code:e})}}function fl(e){if(void 0===e)return ei("GRPC error has no .code"),oi.UNKNOWN;switch(e){case ul.OK:return oi.OK;case ul.CANCELLED:return oi.CANCELLED;case ul.UNKNOWN:return oi.UNKNOWN;case ul.DEADLINE_EXCEEDED:return oi.DEADLINE_EXCEEDED;case ul.RESOURCE_EXHAUSTED:return oi.RESOURCE_EXHAUSTED;case ul.INTERNAL:return oi.INTERNAL;case ul.UNAVAILABLE:return oi.UNAVAILABLE;case ul.UNAUTHENTICATED:return oi.UNAUTHENTICATED;case ul.INVALID_ARGUMENT:return oi.INVALID_ARGUMENT;case ul.NOT_FOUND:return oi.NOT_FOUND;case ul.ALREADY_EXISTS:return oi.ALREADY_EXISTS;case ul.PERMISSION_DENIED:return oi.PERMISSION_DENIED;case ul.FAILED_PRECONDITION:return oi.FAILED_PRECONDITION;case ul.ABORTED:return oi.ABORTED;case ul.OUT_OF_RANGE:return oi.OUT_OF_RANGE;case ul.UNIMPLEMENTED:return oi.UNIMPLEMENTED;case ul.DATA_LOSS:return oi.DATA_LOSS;default:return ri(39323,{code:e})}}(hl=ul||(ul={}))[hl.OK=0]="OK",hl[hl.CANCELLED=1]="CANCELLED",hl[hl.UNKNOWN=2]="UNKNOWN",hl[hl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hl[hl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hl[hl.NOT_FOUND=5]="NOT_FOUND",hl[hl.ALREADY_EXISTS=6]="ALREADY_EXISTS",hl[hl.PERMISSION_DENIED=7]="PERMISSION_DENIED",hl[hl.UNAUTHENTICATED=16]="UNAUTHENTICATED",hl[hl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hl[hl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hl[hl.ABORTED=10]="ABORTED",hl[hl.OUT_OF_RANGE=11]="OUT_OF_RANGE",hl[hl.UNIMPLEMENTED=12]="UNIMPLEMENTED",hl[hl.INTERNAL=13]="INTERNAL",hl[hl.UNAVAILABLE=14]="UNAVAILABLE",hl[hl.DATA_LOSS=15]="DATA_LOSS";let pl=null;const ml=new Or([4294967295,4294967295],0);function gl(e){const t=bi().encode(e),n=new Rr;return n.update(t),new Uint8Array(n.digest())}function vl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Or([n,r],0),new Or([i,s],0)]}class yl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bl("Invalid padding: ".concat(t));if(n<0)throw new bl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new bl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new bl("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Or.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Or.fromNumber(n)));return 1===r.compare(ml)&&(r=new Or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=gl(e),[n,r]=vl(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new yl(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.pe)return;const t=gl(e),[n,r]=vl(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wl(Ni.min(),r,new Ns(ki),go(),So())}}class kl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kl(n,t,So(),So(),So())}}class xl{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class _l{constructor(e,t){this.targetId=e,this.Ce=t}}class El{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ls.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Sl{constructor(){this.Fe=0,this.Me=Il(),this.xe=Ls.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=So(),t=So(),n=So();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ri(38017,{changeType:i})}}),new kl(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Il()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,si(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Tl{constructor(e){this.ze=e,this.je=new Map,this.He=go(),this.Je=Cl(),this.Ye=Cl(),this.Ze=new Ns(ki)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:ri(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Ya(i))if(0===n){const e=new Mi(i.path);this.tt(t,e,xa.newNoDocument(e,Ni.min()))}else si(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==pl||pl.ht(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Vs(n).toUint8Array()}catch(e){if(e instanceof Ms)return ti("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new yl(s,r,i)}catch(e){return ti(e instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&Ya(i.target)){const t=new Mi(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,xa.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=So();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new wl(e,t,this.Ze,this.He,n);return this.He=go(),this.Je=Cl(),this.Ye=Cl(),this.Ze=new Ns(ki),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Sl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ds(ki),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ds(ki),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Zr("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Sl),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Cl(){return new Ns(Mi.comparator)}function Il(){return new Ns(Mi.comparator)}const Nl={asc:"ASCENDING",desc:"DESCENDING"},Al={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pl={and:"AND",or:"OR"};class Dl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ol(e,t){return e.useProto3Json||Xi(t)?t:{value:t}}function Rl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ml(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ll(e,t){return Rl(e,t.toTimestamp())}function jl(e){return si(!!e,49232),Ni.fromTimestamp(function(e){const t=Us(e);return new Ii(t.seconds,t.nanos)}(e))}function Ul(e,t){return Fl(e,t).canonicalString()}function Fl(e,t){const n=function(e){return new Di(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Vl(e){const t=Di.fromString(e);return si(ac(t),10190,{key:t.toString()}),t}function zl(e,t){return Ul(e.databaseId,t.path)}function Bl(e,t){const n=Vl(t);if(n.get(1)!==e.databaseId.projectId)throw new li(oi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new li(oi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mi(Kl(n))}function ql(e,t){return Ul(e.databaseId,t)}function Hl(e){const t=Vl(e);return 4===t.length?Di.emptyPath():Kl(t)}function Wl(e){return new Di(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kl(e){return si(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Gl(e,t,n){return{name:zl(e,t),fields:n.value.mapValue.fields}}function Ql(e,t){let n;if(t instanceof Zo)n={update:Gl(e,t.key,t.value)};else if(t instanceof il)n={delete:zl(e,t.key)};else if(t instanceof el)n={update:Gl(e,t.key,t.data),updateMask:sc(t.fieldMask)};else{if(!(t instanceof sl))return ri(16599,{ft:t.type});n={verify:zl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Mo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vo)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw ri(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ll(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ri(27497)}(e,t.precondition)),n}function Yl(e,t){return{documents:[ql(e,t.path)]}}function Xl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ql(e,i);const s=function(e){if(0!==e.length)return ic(Aa.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:nc(e.field),direction:Zl(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ol(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function $l(e){let t=Hl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){si(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Jl(e);return t instanceof Aa&&Da(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ta(rc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Xi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new _a(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new _a(n,t)}(n.endAt)),$a(t,i,a,s,o,"F",l,c)}function Jl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=rc(e.unaryFilter.field);return Na.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=rc(e.unaryFilter.field);return Na.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=rc(e.unaryFilter.field);return Na.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=rc(e.unaryFilter.field);return Na.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ri(61313);default:return ri(60726)}}(e):void 0!==e.fieldFilter?function(e){return Na.create(rc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ri(58110);default:return ri(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Aa.create(e.compositeFilter.filters.map(e=>Jl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ri(1026)}}(e.compositeFilter.op))}(e):ri(30097,{filter:e})}function Zl(e){return Nl[e]}function ec(e){return Al[e]}function tc(e){return Pl[e]}function nc(e){return{fieldPath:e.canonicalString()}}function rc(e){return Ri.fromServerFormat(e.fieldPath)}function ic(e){return e instanceof Na?function(e){if("=="===e.op){if(ma(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(pa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ma(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(pa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:ec(e.op),value:e.value}}}(e):e instanceof Aa?function(e){const t=e.getFilters().map(e=>ic(e));return 1===t.length?t[0]:{compositeFilter:{op:tc(e.op),filters:t}}}(e):ri(54877,{filter:e})}function sc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ac(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class oc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ni.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ni.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ls.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lc{constructor(e){this.wt=e}}function cc(e){const t=$l({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?so(t,t.limit,"L"):t}class uc{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Fs(e.integerValue));else if("doubleValue"in e){const n=Fs(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),$i(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Us(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Vs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?ba(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):va(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ri(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=ta,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Fs(a)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Mi.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}uc.Wt=new uc;class hc{constructor(){this.Cn=new dc}addToCollectionParentIndex(e,t){return this.Cn.add(t),Wi.resolve()}getCollectionParents(e,t){return Wi.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Wi.resolve()}deleteFieldIndex(e,t){return Wi.resolve()}deleteAllFieldIndexes(e){return Wi.resolve()}createTargetIndexes(e,t){return Wi.resolve()}getDocumentsMatchingTarget(e,t){return Wi.resolve(null)}getIndexType(e,t){return Wi.resolve(0)}getFieldIndexes(e,t){return Wi.resolve([])}getNextCollectionGroupToUpdate(e){return Wi.resolve(null)}getMinOffset(e,t){return Wi.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return Wi.resolve(Vi.min())}updateCollectionGroup(e,t,n){return Wi.resolve()}updateIndexEntries(e,t){return Wi.resolve()}}class dc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ds(Di.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ds(Di.comparator)).toArray()}}new Uint8Array(0);const fc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pc=41943040;class mc{static withCacheSize(e){return new mc(e,mc.DEFAULT_COLLECTION_PERCENTILE,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}mc.DEFAULT_COLLECTION_PERCENTILE=10,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mc.DEFAULT=new mc(pc,mc.DEFAULT_COLLECTION_PERCENTILE,mc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mc.DISABLED=new mc(-1,0,0);class gc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new gc(0)}static lr(){return new gc(-1)}}const vc="LruGarbageCollector",yc=1048576;function bc(e,t){let[n,r]=e,[i,s]=t;const a=ki(n,i);return 0===a?ki(r,s):a}class wc{constructor(e){this.Er=e,this.buffer=new Ds(bc),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Zr(vc,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Gi(e)?Zr(vc,"Ignoring IndexedDB error during garbage collection: ",e):await Hi(e)}await this.mr(3e5)})}}class xc{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Wi.resolve(Qi.le);const n=new wc(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zr("LruGarbageCollector","Garbage collection skipped; disabled"),Wi.resolve(fc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Zr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),fc):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Zr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Jr()<=un.DEBUG&&Zr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Wi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function _c(e,t){return new xc(e,t)}class Ec{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Xo(n.mutation,e,Rs.empty(),Ii.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,So()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So();const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=yo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=wo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,So()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=go();const s=xo(),a=xo();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof el)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Xo(a.mutation,t,a.mutation.getFieldMask(),Ii.now())):s.set(t.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Sc(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=xo();let r=new Ns((e,t)=>e-t),i=So();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Rs.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||So()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ko();l.forEach(e=>{if(!i.has(e)){const r=Qo(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Wi.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Mi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wi.resolve(wo());let a=Li,o=i;return s.next(t=>Wi.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Wi.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,So())).next(e=>({batchId:a,changes:bo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mi(t)).next(e=>{let t=yo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=yo();return this.indexManager.getCollectionParents(e,i).next(a=>Wi.forEach(a,a=>{const o=function(e,t){return new Xa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,xa.newInvalidDocument(r)))});let n=yo();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Xo(s.mutation,r,Rs.empty(),Ii.now()),co(t,r)&&(n=n.insert(e,r))}),n})}}class Cc{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Wi.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jl(e.createTime)}}(t)),Wi.resolve()}getNamedQuery(e,t){return Wi.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:cc(e.bundledQuery),readTime:jl(e.readTime)}}(t)),Wi.resolve()}}class Ic{constructor(){this.overlays=new Ns(Mi.comparator),this.Qr=new Map}getOverlay(e,t){return Wi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wo();return Wi.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Wi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),Wi.resolve()}getOverlaysForCollection(e,t,n){const r=wo(),i=t.length+1,s=new Mi(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ns((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=wo(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Wi.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ll(t,n));let i=this.Qr.get(t);void 0===i&&(i=So(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class Nc{constructor(){this.sessionToken=Ls.EMPTY_BYTE_STRING}getSessionToken(e){return Wi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Wi.resolve()}}class Ac{constructor(){this.$r=new Ds(Pc.Ur),this.Kr=new Ds(Pc.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Pc(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new Pc(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new Mi(new Di([])),n=new Pc(t,e),r=new Pc(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Mi(new Di([])),n=new Pc(t,e),r=new Pc(t,e+1);let i=So();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Pc(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Pc{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Mi.comparator(e.key,t.key)||ki(e.Zr,t.Zr)}static Wr(e,t){return ki(e.Zr,t.Zr)||Mi.comparator(e.key,t.key)}}class Dc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ds(Pc.Ur)}checkEmpty(e){return Wi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new al(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Xr=this.Xr.add(new Pc(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Wi.resolve(s)}lookupMutationBatch(e,t){return Wi.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Wi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wi.resolve(0===this.mutationQueue.length?Yi:this.nr-1)}getAllMutationBatches(e){return Wi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pc(t,0),r=new Pc(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),Wi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ds(ki);return t.forEach(e=>{const t=new Pc(e,0),r=new Pc(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),Wi.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Mi.isDocumentKey(i)||(i=i.child(""));const s=new Pc(new Mi(i),0);let a=new Ds(ki);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)},s),Wi.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){si(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Wi.forEach(t.mutations,r=>{const i=new Pc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Pc(t,0),r=this.Xr.firstAfterOrEqual(n);return Wi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wi.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Oc{constructor(e){this.ii=e,this.docs=new Ns(Mi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wi.resolve(n?n.document.mutableCopy():xa.newInvalidDocument(t))}getEntries(e,t){let n=go();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():xa.newInvalidDocument(e))}),Wi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=go();const s=t.path,a=new Mi(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||zi(Fi(a),n)<=0||(r.has(a.key)||co(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Wi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ri(9500)}si(e,t){return Wi.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Rc(this)}getSize(e){return Wi.resolve(this.size)}}class Rc extends Ec{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),Wi.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Mc{constructor(e){this.persistence=e,this.oi=new po(e=>Ga(e),Qa),this.lastRemoteSnapshotVersion=Ni.min(),this.highestTargetId=0,this._i=0,this.ai=new Ac,this.targetCount=0,this.ui=gc.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),Wi.resolve()}getLastRemoteSnapshotVersion(e){return Wi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wi.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Wi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Wi.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new gc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Wi.resolve()}updateTargetData(e,t){return this.Tr(t),Wi.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Wi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Wi.waitFor(i).next(()=>r)}getTargetCount(e){return Wi.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Wi.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Wi.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Wi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Wi.resolve(n)}containsKey(e,t){return Wi.resolve(this.ai.containsKey(t))}}class Lc{constructor(e,t){this.ci={},this.overlays={},this.li=new Qi(0),this.hi=!1,this.hi=!0,this.Pi=new Nc,this.referenceDelegate=e(this),this.Ti=new Mc(this),this.indexManager=new hc,this.remoteDocumentCache=function(e){return new Oc(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new lc(t),this.Ei=new Cc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ic,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Dc(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Zr("MemoryPersistence","Starting transaction:",e);const r=new jc(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return Wi.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class jc extends qi{constructor(e){super(),this.currentSequenceNumber=e}}class Uc{constructor(e){this.persistence=e,this.Vi=new Ac,this.mi=null}static fi(e){return new Uc(e)}get gi(){if(this.mi)return this.mi;throw ri(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Wi.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Wi.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Wi.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wi.forEach(this.gi,n=>{const r=Mi.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,Ni.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Wi.or([()=>Wi.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Fc{constructor(e,t){this.persistence=e,this.yi=new po(e=>es(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=_c(this,t)}static fi(e,t){return new Fc(e,t)}di(){}Ai(e){return Wi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return Wi.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?Wi.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Ni.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Wi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Wi.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Wi.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Wi.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ua(e.data.value)),t}Dr(e,t,n){return Wi.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Wi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=So(),r=So();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vc(e,t.fromCache,n,r)}}class zc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bc{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Wt()?8:Ki(qt())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new zc;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Jr()<=un.DEBUG&&Zr("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Wi.resolve()):(Jr()<=un.DEBUG&&Zr("QueryEngine","Query:",lo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Jr()<=un.DEBUG&&Zr("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(t))):Wi.resolve())}ws(e,t){if(Za(t))return Wi.resolve(null);let n=no(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=so(t,null,"F"),n=no(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=So(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,so(t,null,"F")):this.Fs(e,s,t,n)}))})))}bs(e,t,n,r){return Za(t)||r.isEqual(Ni.min())?Wi.resolve(null):this.ys.getDocuments(e,n).next(i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?Wi.resolve(null):(Jr()<=un.DEBUG&&Zr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lo(t)),this.Fs(e,s,t,Ui(r,Li)).next(e=>e))})}vs(e,t){let n=new Ds(ho(e));return t.forEach((t,r)=>{co(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Jr()<=un.DEBUG&&Zr("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ys.getDocumentsMatchingQuery(e,t,Vi.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const qc="LocalStore";class Hc{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Ns(ki),this.Os=new po(e=>Ga(e),Qa),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tc(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Wc(e,t,n,r){return new Hc(e,t,n,r)}async function Kc(e,t){const n=ai(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=So();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:s}))})})}function Gc(e){const t=ai(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function Qc(e,t,n){let r=So(),i=So();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=go();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ni.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Zr(qc,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{qs:r,Qs:i}})}function Yc(e,t){const n=ai(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Yi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Xc(e,t){const n=ai(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,Wi.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new oc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function $c(e,t,n){const r=ai(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Gi(e))throw e;Zr(qc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Jc(e,t,n){const r=ai(e);let i=Ni.min(),s=So();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ai(e),i=r.Os.get(n);return void 0!==i?Wi.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,no(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:Ni.min(),n?s:So())).next(e=>(Zc(r,uo(t),e),{documents:e,$s:s})))}function Zc(e,t,n){let r=e.Ns.get(t)||Ni.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class eu{constructor(){this.activeTargetIds=Co()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tu{constructor(){this.xo=new eu,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new eu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nu{No(e){}shutdown(){}}const ru="ConnectivityMonitor";class iu{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Zr(ru,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Zr(ru,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let su=null;function au(){return null===su?su=268435456+Math.round(2147483648*Math.random()):su++,"0x"+su.toString(16)}const ou="RestConnection",lu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cu{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Ys?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const s=au(),a=this.jo(e,t.toUriEncodedString());Zr(ou,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:l}=new URL(a),c=Ut(l);return this.Jo(e,a,o,n,c).then(t=>(Zr(ou,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw ti(ou,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=lu[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class uu{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const hu="WebChannelConnection";class du extends cu{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=au();return new Promise((i,a)=>{const o=new jr;o.setWithCredentials(!0),o.listenOnce(Fr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Vr.NO_ERROR:const t=o.getResponseJson();Zr(hu,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Vr.TIMEOUT:Zr(hu,"RPC '".concat(e,"' ").concat(s," timed out")),a(new li(oi.DEADLINE_EXCEEDED,"Request time out"));break;case Vr.HTTP_ERROR:const n=o.getStatus();if(Zr(hu,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(oi).indexOf(t)>=0?t:oi.UNKNOWN}(t.status);a(new li(e,t.message))}else a(new li(oi.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new li(oi.UNAVAILABLE,"Connection failed."));break;default:ri(9055,{h_:e,streamId:s,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{Zr(hu,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Zr(hu,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}I_(e,t,n){const r=au(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hr(),a=qr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Zr(hu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.E_(u);let h=!1,d=!1;const f=new uu({Zo:t=>{d?Zr(hu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Zr(hu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Zr(hu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Ur.EventType.OPEN,()=>{d||(Zr(hu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())}),p(u,Ur.EventType.CLOSE,()=>{d||(d=!0,Zr(hu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))}),p(u,Ur.EventType.ERROR,t=>{d||(d=!0,ti(hu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new li(oi.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ur.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];si(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Zr(hu,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=ul[e];if(void 0!==t)return fl(t)}(t),i=a.message;void 0===n&&(n=oi.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.u_(new li(n,i)),u.close()}else Zr(hu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}}),p(a,Br.STAT_EVENT,t=>{t.stat===zr.PROXY?Zr(hu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===zr.NOPROXY&&Zr(hu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.a_()},0),f}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function fu(){return"undefined"!=typeof document?document:null}function pu(e){return new Dl(e,!0)}class mu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&Zr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const gu="PersistentStream";class vu{constructor(e,t,n,r,i,s,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mu(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===oi.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===oi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new li(oi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Zr(gu,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Zr(gu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yu extends vu{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ri(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(si(void 0===t||"string"==typeof t,58123),Ls.fromBase64String(t||"")):(si(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ls.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?oi.UNKNOWN:fl(e.code);return new li(t,e.message||"")}(a);n=new El(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bl(e,r.document.name),s=jl(r.document.updateTime),a=r.document.createTime?jl(r.document.createTime):Ni.min(),o=new wa({mapValue:{fields:r.document.fields}}),l=xa.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Bl(e,r.document),s=r.readTime?jl(r.readTime):Ni.min(),a=xa.newNoDocument(i,s),o=r.removedTargetIds||[];n=new xl([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Bl(e,r.document),s=r.removedTargetIds||[];n=new xl([],s,i,null)}else{if(!("filter"in t))return ri(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new cl(r,i),a=e.targetId;n=new _l(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ni.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ni.min():t.readTime?jl(t.readTime):Ni.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Wl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ya(r)?{documents:Yl(e,r)}:{query:Xl(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ml(e,t.resumeToken);const r=Ol(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ni.min())>0){n.readTime=Rl(e,t.snapshotVersion.toTimestamp());const r=Ol(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ri(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Wl(this.serializer),t.removeTarget=e,this.Q_(t)}}class bu extends vu{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return si(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,si(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){si(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(si(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?jl(e.updateTime):jl(t);return n.isEqual(Ni.min())&&(n=jl(t)),new Ho(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=jl(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Wl(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ql(this.serializer,e))};this.Q_(t)}}class wu{}class ku extends wu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new li(oi.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.zo(e,Fl(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(oi.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Yo(e,Fl(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(oi.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class xu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(ei(t),this.ua=!1):Zr("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const _u="RemoteStore";class Eu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{Ou(this)&&(Zr(_u,"Restarting streams for network reachability change."),await async function(e){const t=ai(e);t.da.add(4),await Tu(t),t.Va.set("Unknown"),t.da.delete(4),await Su(t)}(this))})}),this.Va=new xu(n,r)}}async function Su(e){if(Ou(e))for(const t of e.Aa)await t(!0)}async function Tu(e){for(const t of e.Aa)await t(!1)}function Cu(e,t){const n=ai(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Du(n)?Pu(n):Ju(n).N_()&&Nu(n,t))}function Iu(e,t){const n=ai(e),r=Ju(n);n.Ea.delete(t),r.N_()&&Au(n,t),0===n.Ea.size&&(r.N_()?r.k_():Ou(n)&&n.Va.set("Unknown"))}function Nu(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ni.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ju(e).Z_(t)}function Au(e,t){e.ma.Ke(t),Ju(e).X_(t)}function Pu(e){e.ma=new Tl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ju(e).start(),e.Va.ca()}function Du(e){return Ou(e)&&!Ju(e).O_()&&e.Ea.size>0}function Ou(e){return 0===ai(e).da.size}function Ru(e){e.ma=void 0}async function Mu(e){e.Va.set("Online")}async function Lu(e){e.Ea.forEach((t,n)=>{Nu(e,t)})}async function ju(e,t){Ru(e),Du(e)?(e.Va.Pa(t),Pu(e)):e.Va.set("Unknown")}async function Uu(e,t,n){if(e.Va.set("Online"),t instanceof El&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){Zr(_u,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fu(e,n)}else if(t instanceof xl?e.ma.Xe(t):t instanceof _l?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Ni.min()))try{const t=await Gc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Ls.EMPTY_BYTE_STRING,r.snapshotVersion)),Au(e,t);const i=new oc(r.target,t,n,r.sequenceNumber);Nu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zr(_u,"Failed to raise snapshot:",t),await Fu(e,t)}}async function Fu(e,t,n){if(!Gi(t))throw t;e.da.add(1),await Tu(e),e.Va.set("Offline"),n||(n=()=>Gc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zr(_u,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Su(e)})}function Vu(e,t){return t().catch(n=>Fu(e,n,t))}async function zu(e){const t=ai(e),n=Zu(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Yi;for(;Bu(t);)try{const e=await Yc(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,qu(t,e)}catch(e){await Fu(t,e)}Hu(t)&&Wu(t)}function Bu(e){return Ou(e)&&e.Ia.length<10}function qu(e,t){e.Ia.push(t);const n=Zu(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Hu(e){return Ou(e)&&!Zu(e).O_()&&e.Ia.length>0}function Wu(e){Zu(e).start()}async function Ku(e){Zu(e).ia()}async function Gu(e){const t=Zu(e);for(const n of e.Ia)t.ta(n.mutations)}async function Qu(e,t,n){const r=e.Ia.shift(),i=ol.from(r,t,n);await Vu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await zu(e)}async function Yu(e,t){t&&Zu(e).ea&&await async function(e,t){if(function(e){return dl(e)&&e!==oi.ABORTED}(t.code)){const n=e.Ia.shift();Zu(e).L_(),await Vu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await zu(e)}}(e,t),Hu(e)&&Wu(e)}async function Xu(e,t){const n=ai(e);n.asyncQueue.verifyOperationInProgress(),Zr(_u,"RemoteStore received new credentials");const r=Ou(n);n.da.add(3),await Tu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Su(n)}async function $u(e,t){const n=ai(e);t?(n.da.delete(2),await Su(n)):t||(n.da.add(2),await Tu(n),n.Va.set("Unknown"))}function Ju(e){return e.fa||(e.fa=function(e,t,n){const r=ai(e);return r.oa(),new yu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Mu.bind(null,e),n_:Lu.bind(null,e),i_:ju.bind(null,e),Y_:Uu.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Du(e)?Pu(e):e.Va.set("Unknown")):(await e.fa.stop(),Ru(e))})),e.fa}function Zu(e){return e.ga||(e.ga=function(e,t,n){const r=ai(e);return r.oa(),new bu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Ku.bind(null,e),i_:Yu.bind(null,e),na:Gu.bind(null,e),ra:Qu.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await zu(e)):(await e.ga.stop(),e.Ia.length>0&&(Zr(_u,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class eh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new eh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new li(oi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(e,t){if(ei("AsyncQueue","".concat(t,": ").concat(e)),Gi(e))return new li(oi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class nh{static emptySet(e){return new nh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mi.comparator(t.key,n.key):(e,t)=>Mi.comparator(e.key,t.key),this.keyedMap=yo(),this.sortedSet=new Ns(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class rh{constructor(){this.pa=new Ns(Mi.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ri(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class ih{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ih(e,t,nh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sh{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class ah{constructor(){this.queries=oh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ai(e),r=n.queries;n.queries=oh(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new li(oi.ABORTED,"Firestore shutting down"))}}function oh(){return new po(e=>oo(e),ao)}async function lh(e,t){const n=ai(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Da()&&t.va()&&(r=2):(s=new sh,r=t.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=th(e,"Initialization of query '".concat(lo(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&dh(n)}async function ch(e,t){const n=ai(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.va()?0:1:!s.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uh(e,t){const n=ai(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&dh(n)}function hh(e,t,n){const r=ai(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function dh(e){e.Ca.forEach(e=>{e.next()})}var fh,ph;(ph=fh||(fh={})).xa="default",ph.Cache="cache";class mh{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ih(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==fh.Cache}}class gh{constructor(e){this.key=e}}class vh{constructor(e){this.key=e}}class yh{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=So(),this.mutatedKeys=So(),this.Za=ho(e),this.Xa=new nh(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new rh,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=co(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:s,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ri(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==s.length||l?{snapshot:new ih(this.query,e.Xa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=So(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new vh(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new gh(n))}),t}au(e){this.Ha=e.$s,this.Ya=So();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ih.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const bh="SyncEngine";class wh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kh{constructor(e){this.key=e,this.cu=!1}}class xh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new po(e=>oo(e),ao),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ns(Mi.comparator),this.Eu=new Map,this.du=new Ac,this.Au={},this.Ru=new Map,this.Vu=gc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function _h(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Hh(e);let i;const s=r.hu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await Sh(r,t,n,!0),i}async function Eh(e,t){const n=Hh(e);await Sh(n,t,!0,!1)}async function Sh(e,t,n,r){const i=await Xc(e.localStore,no(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Th(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Cu(e.remoteStore,i),o}async function Th(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Jc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Uh(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const s=await Jc(e.localStore,t,!0),a=new yh(t,s.$s),o=a.tu(s.documents),l=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Uh(e,n,c.ou);const u=new wh(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function Ch(e,t,n){const r=ai(e),i=r.hu.get(t),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(e=>!ao(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $c(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iu(r.remoteStore,i.targetId),Lh(r,i.targetId)}).catch(Hi)):(Lh(r,i.targetId),await $c(r.localStore,i.targetId,!0))}async function Ih(e,t){const n=ai(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iu(n.remoteStore,r.targetId))}async function Nh(e,t){const n=ai(e);try{const e=await function(e,t){const n=ai(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ti.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ls.EMPTY_BYTE_STRING,Ni.min()).withLastLimboFreeSnapshotVersion(Ni.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Ti.updateTargetData(e,c))});let o=go(),l=So();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Qc(e,s,t.documentUpdates).next(e=>{o=e.qs,l=e.Qs})),!r.isEqual(Ni.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Wi.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(si(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?si(r.cu,14607):e.removedDocuments.size>0&&(si(r.cu,42227),r.cu=!1))}),await zh(n,e,t)}catch(e){await Hi(e)}}function Ah(e,t,n){const r=ai(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ai(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&dh(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ph(e,t,n){const r=ai(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new Ns(Mi.comparator);e=e.insert(s,xa.newNoDocument(s,Ni.min()));const n=So().add(s),i=new wl(Ni.min(),new Map,new Ns(ki),e,n);await Nh(r,i),r.Iu=r.Iu.remove(s),r.Eu.delete(t),Vh(r)}else await $c(r.localStore,t,!1).then(()=>Lh(r,t,n)).catch(Hi)}async function Dh(e,t){const n=ai(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ai(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Wi.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);si(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=So();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Mh(n,r,null),Rh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zh(n,e)}catch(e){await Hi(e)}}async function Oh(e,t,n){const r=ai(e);try{const e=await function(e,t){const n=ai(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(si(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Mh(r,t,n),Rh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zh(r,e)}catch(n){await Hi(n)}}function Rh(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function Mh(e,t,n){const r=ai(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function Lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||jh(e,t)})}function jh(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Iu(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Vh(e))}function Uh(e,t,n){for(const r of n)r instanceof gh?(e.du.addReference(r.key,t),Fh(e,r)):r instanceof vh?(Zr(bh,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||jh(e,r.key)):ri(19791,{pu:r})}function Fh(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(Zr(bh,"New document in limbo: "+n),e.Tu.add(r),Vh(e))}function Vh(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Mi(Di.fromString(t)),r=e.Vu.next();e.Eu.set(r,new kh(n)),e.Iu=e.Iu.insert(n,r),Cu(e.remoteStore,new oc(no(Ja(n.path)),r,"TargetPurposeLimboResolution",Qi.le))}}async function zh(e,t,n){const r=ai(e),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((e,o)=>{a.push(r.fu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Vc.Rs(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=ai(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wi.forEach(t,t=>Wi.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wi.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Gi(e))throw e;Zr(qc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function Bh(e,t){const n=ai(e);if(!n.currentUser.isEqual(t)){Zr(bh,"User change. New user:",t.toKey());const e=await Kc(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new li(oi.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zh(n,e.ks)}}function qh(e,t){const n=ai(e),r=n.Eu.get(t);if(r&&r.cu)return So().add(r.key);{let e=So();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Hh(e){const t=ai(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ph.bind(null,t),t.lu.Y_=uh.bind(null,t.eventManager),t.lu.gu=hh.bind(null,t.eventManager),t}function Wh(e){const t=ai(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oh.bind(null,t),t}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Wc(this.persistence,new Bc,e.initialUser,this.serializer)}Su(e){return new Lc(Uc.fi,this.serializer)}bu(e){return new tu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class Gh extends Kh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){si(this.persistence.referenceDelegate instanceof Fc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new kc(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?mc.withCacheSize(this.cacheSizeBytes):mc.DEFAULT;return new Lc(e=>Fc.fi(e,t),this.serializer)}}class Qh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ah(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bh.bind(null,this.syncEngine),await $u(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ah}createDatastore(e){const t=pu(e.databaseInfo.databaseId),n=function(e){return new du(e)}(e.databaseInfo);return function(e,t,n,r){return new ku(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Eu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Ah(this.syncEngine,e,0),iu.C()?new iu:new nu)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new xh(e,t,n,r,i,s);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ai(e);Zr(_u,"RemoteStore shutting down."),t.da.add(5),await Tu(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Qh.provider={build:()=>new Qh};class Yh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Xh="FirestoreClient";class $h{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yr.UNAUTHENTICATED,this.clientId=wi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Zr(Xh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Zr(Xh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(oe){const n=th(oe,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Jh(e,t){e.asyncQueue.verifyOperationInProgress(),Zr(Xh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Kc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Zh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ed(e);Zr(Xh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Xu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Xu(t.remoteStore,n)),e._onlineComponents=t}async function ed(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zr(Xh,"Using user provided OfflineComponentProvider");try{await Jh(e,e._uninitializedComponentsProvider._offline)}catch(oe){const n=oe;if(!function(e){return"FirebaseError"===e.name?e.code===oi.FAILED_PRECONDITION||e.code===oi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),await Jh(e,new Kh)}}else Zr(Xh,"Using default OfflineComponentProvider"),await Jh(e,new Gh(void 0));return e._offlineComponents}async function td(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zr(Xh,"Using user provided OnlineComponentProvider"),await Zh(e,e._uninitializedComponentsProvider._online)):(Zr(Xh,"Using default OnlineComponentProvider"),await Zh(e,new Qh))),e._onlineComponents}function nd(e){return td(e).then(e=>e.syncEngine)}async function rd(e){const t=await td(e),n=t.eventManager;return n.onListen=_h.bind(null,t.syncEngine),n.onUnlisten=Ch.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Eh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ih.bind(null,t.syncEngine),n}function id(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ci;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Yh({next:n=>{s.xu(),t.enqueueAndForget(()=>ch(e,a)),n.fromCache&&"server"===r.source?i.reject(new li(oi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new mh(n,s,{includeMetadataChanges:!0,Qa:!0});return lh(e,a)}(await rd(e),e.asyncQueue,t,n,r)),r.promise}function sd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ad=new Map;function od(e,t,n){if(!n)throw new li(oi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ld(e){if(!Mi.isDocumentKey(e))throw new li(oi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cd(e){if(Mi.isDocumentKey(e))throw new li(oi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ud(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ri(12329,{type:typeof e})}function hd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new li(oi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ud(e);throw new li(oi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const dd="firestore.googleapis.com",fd=!0;class pd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new li(oi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dd,this.ssl=fd}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:fd;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=pc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<yc)throw new li(oi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new li(oi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new li(oi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new li(oi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new li(oi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new li(oi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new li(oi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pd(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hi;switch(e.type){case"firstParty":return new mi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new li(oi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ad.get(e);t&&(Zr("ComponentProvider","Removing Datastore"),ad.delete(e),t.terminate())}(this),Promise.resolve()}}function gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=hd(e,md);const s=Ut(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);s&&(Ft("https://".concat(l)),Bt("Firestore",!0)),a.host!==dd&&a.host!==l&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Xt(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[At(JSON.stringify({alg:"none",type:"JWT"})),At(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new li(oi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yr(s)}e._authCredentials=new di(new ui(t,n))}}class vd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vd(this.firestore,e,this._query)}}class yd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yd(this.firestore,e,this._key)}}class bd extends vd{constructor(e,t,n){super(e,t,Ja(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yd(this.firestore,null,new Mi(e))}withConverter(e){return new bd(this.firestore,e,this._path)}}function wd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),od("collection","path",t),e instanceof md){const n=Di.fromString(t,...r);return cd(n),new bd(e,null,n)}{if(!(e instanceof yd||e instanceof bd))throw new li(oi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Di.fromString(t,...r));return cd(n),new bd(e.firestore,null,n)}}function kd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),1===arguments.length&&(t=wi.newId()),od("doc","path",t),e instanceof md){const n=Di.fromString(t,...r);return ld(n),new yd(e,null,new Mi(n))}{if(!(e instanceof yd||e instanceof bd))throw new li(oi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Di.fromString(t,...r));return ld(n),new yd(e.firestore,e instanceof bd?e.converter:null,new Mi(n))}}const xd="AsyncQueue";class _d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mu(this,"async_queue_retry"),this.rc=()=>{const e=fu();e&&Zr(xd,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=fu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=fu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(ae){if(!Gi(ae))throw ae;Zr(xd,"Operation failed with retryable error: "+ae)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,ei("INTERNAL UNHANDLED ERROR: ",Ed(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=eh.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&ri(47125,{cc:Ed(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Ed(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Sd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Td extends md{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _d,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _d(e),this._firestoreClient=void 0,await e}}}function Cd(e){if(e._terminated)throw new li(oi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Id(e),e._firestoreClient}function Id(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Qs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,sd(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new $h(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nd(Ls.fromBase64String(e))}catch(e){throw new li(oi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nd(Ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ad{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new li(oi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pd{constructor(e){this._methodName=e}}class Dd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new li(oi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new li(oi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ki(this._lat,e._lat)||ki(this._long,e._long)}}class Od{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Rd=/^__.*__$/;class Md{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zo(e,this.data,t,this.fieldTransforms)}}class Ld{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ri(40011,{Ic:e})}}class Ud{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ef(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(jd(this.Ic)&&Rd.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Fd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||pu(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ud({Ic:e,methodName:t,wc:n,path:Ri.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(e){const t=e._freezeSettings(),n=pu(e._databaseId);return new Fd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(s.merge||s.mergeFields?2:0,t,n,i);Xd("Data must be an object, but it was:",a,r);const o=Qd(r,a);let l,c;if(s.merge)l=new Rs(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=$d(t,r,n);if(!a.contains(i))throw new li(oi.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));tf(e,i)||e.push(i)}l=new Rs(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Md(new wa(o),l,c)}class Bd extends Pd{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}class qd extends Pd{_toFieldTransform(e){return new qo(e.path,new Mo)}isEqual(e){return e instanceof qd}}function Hd(e,t,n,r){const i=e.bc(1,t,n);Xd("Data must be an object, but it was:",i,r);const s=[],a=wa.empty();Cs(r,(e,r)=>{const o=Zd(t,e,n);r=rn(r);const l=i.mc(o);if(r instanceof Bd)s.push(o);else{const e=Gd(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Rs(s);return new Ld(a,o,i.fieldTransforms)}function Wd(e,t,n,r,i,s){const a=e.bc(1,t,n),o=[$d(t,r,n)],l=[i];if(s.length%2!=0)throw new li(oi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push($d(t,s[d])),l.push(s[d+1]);const c=[],u=wa.empty();for(let d=o.length-1;d>=0;--d)if(!tf(c,o[d])){const e=o[d];let t=l[d];t=rn(t);const n=a.mc(e);if(t instanceof Bd)c.push(e);else{const r=Gd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Rs(c);return new Ld(u,h,a.fieldTransforms)}function Kd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Gd(n,e.bc(r?4:3,t))}function Gd(e,t){if(Yd(e=rn(e)))return Xd("Unsupported field value:",t,e),Qd(e,t);if(e instanceof Pd)return function(e,t){if(!jd(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gd(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ao(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ii.fromDate(e);return{timestampValue:Rl(t.serializer,n)}}if(e instanceof Ii){const n=new Ii(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rl(t.serializer,n)}}if(e instanceof Dd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nd)return{bytesValue:Ml(t.serializer,e._byteString)};if(e instanceof yd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ul(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Od)return function(e,t){return{mapValue:{fields:{[$s]:{stringValue:ea},[ta]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Io(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(ud(e)))}(e,t)}function Qd(e,t){const n={};return Is(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(e,(e,r)=>{const i=Gd(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Yd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ii||e instanceof Dd||e instanceof Nd||e instanceof yd||e instanceof Pd||e instanceof Od)}function Xd(e,t,n){if(!Yd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ud(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function $d(e,t,n){if((t=rn(t))instanceof Ad)return t._internalPath;if("string"==typeof t)return Zd(e,t);throw ef("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jd=new RegExp("[~\\*/\\[\\]]");function Zd(e,t,n){if(t.search(Jd)>=0)throw ef("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ad(...t.split("."))._internalPath}catch(r){throw ef("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ef(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new li(oi.INVALID_ARGUMENT,o+e+l)}function tf(e,t){return e.some(e=>e.isEqual(t))}class nf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rf extends nf{data(){return super.data()}}function sf(e,t){return"string"==typeof t?Zd(e,t):t instanceof Ad?t._internalPath:t._delegate._internalPath}function af(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new li(oi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}class lf extends of{}function cf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof of&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof df).length,n=e.filter(e=>e instanceof uf).length;if(t>1||t>0&&n>0)throw new li(oi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class uf extends lf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new uf(e,t,n)}_apply(e){const t=this._parse(e);return gf(e._query,t),new vd(e.firestore,e.converter,io(e._query,t))}_parse(e){const t=Vd(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new li(oi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){mf(a,s);const t=[];for(const n of a)t.push(pf(r,e,n));o={arrayValue:{values:t}}}else o=pf(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||mf(a,s),o=Kd(n,t,a,"in"===s||"not-in"===s);return Na.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function hf(e,t,n){const r=t,i=sf("where",e);return uf._create(i,r,n)}class df extends of{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new df(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Aa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)gf(n,i),n=io(n,i)}(e._query,t),new vd(e.firestore,e.converter,io(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ff extends lf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ff(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new li(oi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new li(oi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ta(t,n)}(e._query,this._field,this._direction);return new vd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Xa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function pf(e,t,n){if("string"==typeof(n=rn(n))){if(""===n)throw new li(oi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eo(t)&&-1!==n.indexOf("/"))throw new li(oi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Di.fromString(n));if(!Mi.isDocumentKey(r))throw new li(oi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ha(e,new Mi(r))}if(n instanceof yd)return ha(e,n._key);throw new li(oi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ud(n),"."))}function mf(e,t){if(!Array.isArray(e)||0===e.length)throw new li(oi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function gf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new li(oi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new li(oi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class vf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ri(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Cs(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ta].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Fs(e.doubleValue));return new Od(i)}convertGeoPoint(e){return new Dd(Fs(e.latitude),Fs(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ks(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Di.fromString(e);si(ac(n),9688,{name:e});const r=new Xs(n.get(1),n.get(3)),i=new Mi(n.popFirst(5));return r.isEqual(t)||ei("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function yf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wf extends nf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class kf extends wf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class xf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new kf(this._firestore,this._userDataWriter,n.key,n,new bf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new li(oi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new kf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new bf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new kf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:_f(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _f(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ri(61501,{type:e})}}class Ef extends vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yd(this.firestore,null,t)}}function Sf(e){e=hd(e,vd);const t=hd(e.firestore,Td),n=Cd(t),r=new Ef(t);return af(e._query),id(n,e._query).then(n=>new xf(t,r,e,n))}function Tf(e,t,n){e=hd(e,yd);const r=hd(e.firestore,Td),i=Vd(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=rn(t))||t instanceof Ad?Wd(i,"updateDoc",e._key,t,n,o):Hd(i,"updateDoc",e._key,t),If(r,[s.toMutation(e._key,Wo.exists(!0))])}function Cf(e,t){const n=hd(e.firestore,Td),r=kd(e),i=yf(e.converter,t);return If(n,[zd(Vd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wo.exists(!1))]).then(()=>r)}function If(e,t){return function(e,t){const n=new ci;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Wh(e);try{const e=await function(e,t){const n=ai(e),r=Ii.now(),i=t.reduce((e,t)=>e.add(t.key),So());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=go(),l=So();return n.Bs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=$o(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new el(e.key,t,ka(t.value.mapValue),Wo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:bo(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new Ns(ki)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await zh(r,e.changes),await zu(r.remoteStore)}catch(e){const t=th(e,"Failed to persist write");n.reject(t)}}(await nd(e),t,n)),n.promise}(Cd(e),t)}function Nf(e,t,n){const r=n.docs.get(t._key),i=new Ef(e);return new wf(e,i,t._key,r,new bf(n.hasPendingWrites,n.fromCache),t.converter)}function Af(){return new qd("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xr=e}(br),pr(new sn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Td(new fi(e.getProvider("auth-internal")),new vi(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new li(oi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xr(Gr,Qr,e),xr(Gr,Qr,"esm2017")}();function Pf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Df(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Of=Df,Rf=new Qt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mf=new mn("@firebase/auth");function Lf(e){if(Mf.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mf.error("Auth (".concat(br,"): ").concat(e),...n)}}function jf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zf(e,...n)}function Uf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zf(e,...n)}function Ff(e,t,n){const r=Object.assign(Object.assign({},Of()),{[t]:n});return new Qt("auth","Firebase",r).create(t,{appName:e.name})}function Vf(e){return Ff(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rf.create(e,...n)}function Bf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zf(t,...r)}}function qf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lf(t),new Error(t)}function Hf(e,t){e||qf(t)}function Wf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Kf(){return"http:"===Gf()||"https:"===Gf()}function Gf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Qf(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Kf()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Qf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xf(e,t){Hf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class $f{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void qf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void qf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void qf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ep=new Yf(3e4,6e4);function tp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function np(e,t,n,r){return rp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Jt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ut(e.emulatorConfig.host)&&(l.credentials="include"),$f.fetch()(await sp(e,e.config.apiHost,n,a),l)})}async function rp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jf),t);try{const t=new op(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw lp(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw lp(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw lp(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw lp(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ff(e,o,a);jf(e,o)}}catch(ae){if(ae instanceof Gt)throw ae;jf(e,"network-request-failed",{message:String(ae)})}}async function ip(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await np(e,t,n,r,i);return"mfaPendingCredential"in s&&jf(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function sp(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Xf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Zf.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function ap(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class op{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Uf(this.auth,"network-request-failed")),ep.get())})}}function lp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Uf(e,t,r);return i.customData._tokenResponse=n,i}function cp(e){return void 0!==e&&void 0!==e.enterprise}class up{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ap(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hp(e,t){return np(e,"GET","/v2/recaptchaConfig",tp(e,t))}async function dp(e,t){return np(e,"POST","/v1/accounts:lookup",t)}function fp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ae){}}function pp(e){return 1e3*Number(e)}function mp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pt(n);return e?JSON.parse(e):(Lf("Failed to decode base64 JWT payload"),null)}catch(ae){return Lf("Caught error parsing JWT payload as JSON",null===ae||void 0===ae?void 0:ae.toString()),null}}function gp(e){const t=mp(e);return Bf(t,"internal-error"),Bf("undefined"!==typeof t.exp,"internal-error"),Bf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function vp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ae){throw ae instanceof Gt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ae)&&e.auth.currentUser===e&&await e.auth.signOut(),ae}}class yp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ae){return void((null===ae||void 0===ae?void 0:ae.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class bp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fp(this.lastLoginAt),this.creationTime=fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await vp(e,dp(n,{idToken:r}));Bf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?kp(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new bp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function kp(e){return e.map(e=>{var{providerId:t}=e,n=Pf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class xp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bf(e.idToken,"internal-error"),Bf("undefined"!==typeof e.idToken,"internal-error"),Bf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):gp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Bf(0!==e.length,"internal-error");const t=gp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Bf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await rp(e,{},async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await sp(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Ut(e.emulatorConfig.host)&&(o.credentials="include"),$f.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new xp;return n&&(Bf("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Bf("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Bf("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xp,this.toJSON())}_performRefresh(){return qf("not implemented")}}function _p(e,t){Bf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ep{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await vp(this,this.stsTokenManager.getToken(this.auth,e));return Bf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=rn(e),r=await n.getIdToken(t),i=mp(r);Bf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fp(pp(i.auth_time)),issuedAtTime:fp(pp(i.iat)),expirationTime:fp(pp(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=rn(e);await wp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Bf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ep(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Vf(this.auth));const e=await this.getIdToken();return await vp(this,async function(e,t){return np(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=t;Bf(y&&x,e,"internal-error");const _=xp.fromJSON(this.name,x);Bf("string"===typeof y,e,"internal-error"),_p(u,e.name),_p(h,e.name),Bf("boolean"===typeof b,e,"internal-error"),Bf("boolean"===typeof w,e,"internal-error"),_p(d,e.name),_p(f,e.name),_p(p,e.name),_p(m,e.name),_p(g,e.name),_p(v,e.name);const E=new Ep({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xp;r.updateFromServerResponse(t);const i=new Ep({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wp(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Bf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?kp(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new xp;a.updateFromIdToken(n);const o=new Ep({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new bp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Sp=new Map;function Tp(e){Hf(e instanceof Function,"Expected a class definition");let t=Sp.get(e);return t?(Hf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sp.set(e,t),t)}class Cp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Cp.type="NONE";const Ip=Cp;function Np(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ap{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Np(this.userKey,r.apiKey,i),this.fullPersistenceKey=Np("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await dp(this.auth,{idToken:e}).catch(()=>{});return t?Ep._fromGetAccountInfoResponse(this.auth,t,e):null}return Ep._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ap(Tp(Ip),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Tp(Ip);const s=Np(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await dp(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ep._fromGetAccountInfoResponse(e,r,t)}else n=Ep._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new Ap(i,e,n)):new Ap(i,e,n)}}function Pp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jp(t))return"Blackberry";if(Up(t))return"Webos";if(Op(t))return"Safari";if((t.includes("chrome/")||Rp(t))&&!t.includes("edge/"))return"Chrome";if(Lp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/firefox\//i.test(e)}function Op(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/crios\//i.test(e)}function Mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/iemobile/i.test(e)}function Lp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/android/i.test(e)}function jp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/blackberry/i.test(e)}function Up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/webos/i.test(e)}function Fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vp(){return function(){const e=qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function zp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();return Fp(e)||Lp(e)||Up(e)||jp(e)||/windows phone/i.test(e)||Mp(e)}function Bp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pp(qt());break;case"Worker":t="".concat(Pp(qt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(br,"/").concat(r)}class qp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(ae){r(ae)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ae){t.reverse();for(const n of t)try{n()}catch(st){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ae||void 0===ae?void 0:ae.message})}}}class Hp{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Wp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gp(this),this.idTokenSubscription=new Gp(this),this.beforeStateQueue=new qp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tp(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Ap.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ae){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await dp(this,{idToken:e}),n=await Ep._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ae){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ae))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ae){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(ae){if((null===ae||void 0===ae?void 0:ae.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Vf(this));const t=e?rn(e):null;return t&&Bf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Bf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Vf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Vf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tp(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return np(e,"GET","/v2/passwordPolicy",tp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Hp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return np(e,"POST","/v2/accounts:revokeToken",tp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tp(e)||this._popupRedirectResolver;Bf(t,this,"argument-error"),this.redirectPersistenceManager=await Ap.create(this,[Tp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bf(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mf.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mf.warn("Auth (".concat(br,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Kp(e){return rn(e)}class Gp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new tn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Bf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yp(e){return Qp.loadJS(e)}function Xp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $p{constructor(){this.enterprise=new Jp}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Jp{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Zp="NO_RECAPTCHA";class em{constructor(e){this.type="recaptcha-enterprise",this.auth=Kp(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;cp(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Zp)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $p).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{hp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new up(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&cp(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Qp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Yp(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new em(e);let a;if(i)a=Zp;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nm(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await tm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await tm(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await tm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await tm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function rm(e){const t=Kp(e),n=await hp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new up(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new em(t).verify()}}function im(e,t,n){const r=Kp(e);Bf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=sm(t),{host:a,port:o}=function(e){const t=sm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:am(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:am(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Bf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Bf(Xt(c,r.config.emulator)&&Xt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ut(a)?(Ft("".concat(s,"//").concat(a).concat(l)),Bt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function sm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function am(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class om{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qf("not implemented")}_getIdTokenResponse(e){return qf("not implemented")}_linkToIdToken(e,t){return qf("not implemented")}_getReauthenticationResolver(e){return qf("not implemented")}}async function lm(e,t){return np(e,"POST","/v1/accounts:signUp",t)}async function cm(e,t){return ip(e,"POST","/v1/accounts:signInWithPassword",tp(e,t))}class um extends om{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new um(e,t,"password")}static _fromEmailAndCode(e,t){return new um(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return nm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ip(e,"POST","/v1/accounts:signInWithEmailLink",tp(e,t))}(e,{email:this._email,oobCode:this._password});default:jf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return nm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ip(e,"POST","/v1/accounts:signInWithEmailLink",tp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hm(e,t){return ip(e,"POST","/v1/accounts:signInWithIdp",tp(e,t))}class dm extends om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new dm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Pf(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new dm(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return hm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}async function fm(e,t){return np(e,"POST","/v1/accounts:sendVerificationCode",tp(e,t))}const pm={USER_NOT_FOUND:"user-not-found"};class mm extends om{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new mm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new mm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ip(e,"POST","/v1/accounts:signInWithPhoneNumber",tp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ip(e,"POST","/v1/accounts:signInWithPhoneNumber",tp(e,t));if(n.temporaryProof)throw lp(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ip(e,"POST","/v1/accounts:signInWithPhoneNumber",tp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),pm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new mm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gm{constructor(e){var t,n,r,i,s,a;const o=Zt(en(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Bf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Zt(en(e)).link,n=t?Zt(en(t)).deep_link_id:null,r=Zt(en(e)).deep_link_id;return(r?Zt(en(r)).link:null)||r||n||t||e}(e);try{return new gm(t)}catch(n){return null}}}class vm{constructor(){this.providerId=vm.PROVIDER_ID}static credential(e,t){return um._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gm.parseLink(t);return Bf(n,"argument-error"),um._fromEmailAndCode(e,n.code,n.tenantId)}}vm.PROVIDER_ID="password",vm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ym{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bm extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wm extends bm{constructor(){super("facebook.com")}static credential(e){return dm._fromParams({providerId:wm.PROVIDER_ID,signInMethod:wm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wm.credentialFromTaggedObject(e)}static credentialFromError(e){return wm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wm.credential(t.oauthAccessToken)}catch(n){return null}}}wm.FACEBOOK_SIGN_IN_METHOD="facebook.com",wm.PROVIDER_ID="facebook.com";class km extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return dm._fromParams({providerId:km.PROVIDER_ID,signInMethod:km.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return km.credentialFromTaggedObject(e)}static credentialFromError(e){return km.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return km.credential(n,r)}catch(i){return null}}}km.GOOGLE_SIGN_IN_METHOD="google.com",km.PROVIDER_ID="google.com";class xm extends bm{constructor(){super("github.com")}static credential(e){return dm._fromParams({providerId:xm.PROVIDER_ID,signInMethod:xm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xm.credentialFromTaggedObject(e)}static credentialFromError(e){return xm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xm.credential(t.oauthAccessToken)}catch(n){return null}}}xm.GITHUB_SIGN_IN_METHOD="github.com",xm.PROVIDER_ID="github.com";class _m extends bm{constructor(){super("twitter.com")}static credential(e,t){return dm._fromParams({providerId:_m.PROVIDER_ID,signInMethod:_m.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _m.credentialFromTaggedObject(e)}static credentialFromError(e){return _m.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _m.credential(n,r)}catch(i){return null}}}async function Em(e,t){return ip(e,"POST","/v1/accounts:signUp",tp(e,t))}_m.TWITTER_SIGN_IN_METHOD="twitter.com",_m.PROVIDER_ID="twitter.com";class Sm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ep._fromIdTokenResponse(e,n,r),s=Tm(n);return new Sm({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Tm(n);return new Sm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Tm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Cm extends Gt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Cm(e,t,n,r)}}function Im(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Cm._fromErrorAndOperation(e,n,t,r);throw n})}async function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await vp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sm._forOperation(e,"link",r)}async function Am(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(gr(r.app))return Promise.reject(Vf(r));const i="reauthenticate";try{const s=await vp(e,Im(r,i,t,e),n);Bf(s.idToken,r,"internal-error");const a=mp(s.idToken);Bf(a,r,"internal-error");const{sub:o}=a;return Bf(e.uid===o,r,"user-mismatch"),Sm._forOperation(e,i,s)}catch(ae){throw(null===ae||void 0===ae?void 0:ae.code)==="auth/".concat("user-not-found")&&jf(r,"user-mismatch"),ae}}async function Pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(gr(e.app))return Promise.reject(Vf(e));const r="signIn",i=await Im(e,r,t),s=await Sm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Dm(e,t){return Pm(Kp(e),t)}async function Om(e){const t=Kp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Rm(e,t){return np(e,"POST","/v2/accounts/mfaEnrollment:start",tp(e,t))}new WeakMap;const Mm="__sak";class Lm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class jm extends Lm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jm.type="LOCAL";const Um=jm;function Fm(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Vm(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class zm{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Vm(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Fm(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Vm(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Vm(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Fm(n);const i=setInterval(()=>{const e=Fm(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}zm.type="COOKIE";class Bm extends Lm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bm.type="SESSION";const qm=Bm;class Hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Hm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hm.receivers=[];class Km{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Wm("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Gm(){return window}function Qm(){return"undefined"!==typeof Gm().WorkerGlobalScope&&"function"===typeof Gm().importScripts}const Ym="firebaseLocalStorageDb",Xm="firebaseLocalStorage",$m="fbase_key";class Jm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zm(e,t){return e.transaction([Xm],t?"readwrite":"readonly").objectStore(Xm)}function eg(){const e=indexedDB.open(Ym,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Xm,{keyPath:$m})}catch(ae){n(ae)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Xm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ym);return new Jm(e).toPromise()}(),t(await eg()))})})}async function tg(e,t,n){const r=Zm(e,!0).put({[$m]:t,value:n});return new Jm(r).toPromise()}function ng(e,t){const n=Zm(e,!0).delete(t);return new Jm(n).toPromise()}class rg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await eg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ae){if(t++>3)throw ae;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(Qm()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Km(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await tg(e,Mm,"1"),await ng(e,Mm),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Zm(e,!1).get(t),r=await new Jm(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ng(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Zm(e,!1).getAll();return new Jm(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rg.type="LOCAL";const ig=rg;function sg(e,t){return np(e,"POST","/v2/accounts/mfaSignIn:start",tp(e,t))}Xp("rcb"),new Yf(3e4,6e4);const ag="recaptcha";async function og(e,t,n){var r;if(!e._getRecaptchaConfig())try{await rm(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Bf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=nm(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Zp){Bf((null===n||void 0===n?void 0:n.type)===ag,e,"argument-error");return Rm(e,await lg(e,t,n))}return Rm(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Bf("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Bf(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=nm(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Zp){Bf((null===n||void 0===n?void 0:n.type)===ag,e,"argument-error");return sg(e,await lg(e,t,n))}return sg(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=nm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Zp){Bf((null===n||void 0===n?void 0:n.type)===ag,e,"argument-error");return fm(e,await lg(e,t,n))}return fm(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function lg(e,t,n){Bf(n.type===ag,e,"argument-error");const r=await n.verify();Bf("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class cg{constructor(e){this.providerId=cg.PROVIDER_ID,this.auth=Kp(e)}verifyPhoneNumber(e,t){return og(this.auth,e,rn(t))}static credential(e,t){return mm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cg.credentialFromTaggedObject(t)}static credentialFromError(e){return cg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?mm._fromTokenResponse(n,r):null}}function ug(e,t){return t?Tp(t):(Bf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cg.PROVIDER_ID="phone",cg.PHONE_SIGN_IN_METHOD="phone";class hg extends om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dg(e){return Pm(e.auth,new hg(e),e.bypassAuthState)}function fg(e){const{auth:t,user:n}=e;return Bf(n,t,"internal-error"),Am(n,new hg(e),e.bypassAuthState)}async function pg(e){const{auth:t,user:n}=e;return Bf(n,t,"internal-error"),Nm(n,new hg(e),e.bypassAuthState)}class mg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ae){this.reject(ae)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ae){this.reject(ae)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dg;case"linkViaPopup":case"linkViaRedirect":return pg;case"reauthViaPopup":case"reauthViaRedirect":return fg;default:jf(this.auth,"internal-error")}}resolve(e){Hf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gg=new Yf(2e3,1e4);class vg extends mg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,vg.currentPopupAction&&vg.currentPopupAction.cancel(),vg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bf(e,this.auth,"internal-error"),e}async onExecution(){Hf(1===this.filter.length,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Uf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Uf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Uf(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,gg.get())};e()}}vg.currentPopupAction=null;const yg=new Map;class bg extends mg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=yg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=xg(t),r=kg(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(ae){e=()=>Promise.reject(ae)}yg.set(this.auth._key(),e)}return this.bypassAuthState||yg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function wg(e,t){yg.set(e._key(),t)}function kg(e){return Tp(e._redirectPersistence)}function xg(e){return Np("pendingRedirect",e.config.apiKey,e.name)}async function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(gr(e.app))return Promise.reject(Vf(e));const r=Kp(e),i=ug(r,t),s=new bg(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Eg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Tg(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Uf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(e))}saveEventToCache(e){this.cachedEventUids.add(Sg(e)),this.lastProcessedEventTime=Date.now()}}function Sg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Tg(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Cg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ig=/^https?/;async function Ng(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return np(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ag(r))return}catch(n){}jf(e,"unauthorized-domain")}function Ag(e){const t=Wf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ig.test(n))return!1;if(Cg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pg=new Yf(3e4,6e4);function Dg(){const e=Gm().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Og(e){return new Promise((t,n)=>{var r,i,s;function a(){Dg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dg(),n(Uf(e,"network-request-failed"))},timeout:Pg.get()})}if(null===(i=null===(r=Gm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Gm().gapi)||void 0===s?void 0:s.load)){const t=Xp("iframefcb");return Gm()[t]=()=>{gapi.load?a():n(Uf(e,"network-request-failed"))},Yp("".concat(Qp.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Rg=null,e})}let Rg=null;const Mg=new Yf(5e3,15e3),Lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ug(e){const t=e.config;Bf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:br},i=jg.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}async function Fg(e){const t=await function(e){return Rg=Rg||Og(e),Rg}(e),n=Gm().gapi;return Bf(n,e,"internal-error"),t.open({where:document.body,url:Ug(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lg,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Uf(e,"network-request-failed"),s=Gm().setTimeout(()=>{r(i)},Mg.get());function a(){Gm().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Vg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ae){}}}function Bg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Vg),{width:r.toString(),height:i.toString(),top:s,left:a}),c=qt().toLowerCase();n&&(o=Rp(c)?"_blank":n),Dp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Fp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new zg(null);const h=window.open(t||"",o,u);Bf(h,e,"popup-blocked");try{h.focus()}catch(ae){}return new zg(h)}const qg="__/auth/handler",Hg="emulator/auth/handler",Wg=encodeURIComponent("fac");async function Kg(e,t,n,r,i,s){Bf(e.config.authDomain,e,"auth-domain-config-required"),Bf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:br,eventId:i};if(t instanceof ym){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof bm){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Wg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qg);return Xf(t,Hg)}(e),"?").concat(Jt(o).slice(1)).concat(c)}const Gg="webStorageSupport";const Qg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qm,this._completeRedirectFn=_g,this._overrideRedirectResult=wg}async _openPopup(e,t,n,r){var i;Hf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Bg(e,await Kg(e,t,n,Wf(),r),Wm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Gm().location.href=e}(await Kg(e,t,n,Wf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Fg(e),n=new Eg(e);return t.register("authEvent",t=>{Bf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gg,{type:Gg},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Gg];void 0!==i&&t(!!i),jf(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ng(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zp()||Op()||Fp()}};var Yg="@firebase/auth",Xg="1.10.7";class $g{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jg=Lt("authIdTokenMaxAge")||300;let Zg=null;var ev;!function(e){Qp=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Uf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ev="Browser",pr(new sn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Bf(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:ev,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bp(ev)},c=new Wp(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),pr(new sn("auth-internal",e=>(e=>new $g(e))(Kp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Yg,Xg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ev)),xr(Yg,Xg,"esm2017");xr("firebase","11.9.1","app");const tv=wr({apiKey:"AIzaSyA1qG6KcYq-p3bOgFaO_ypMgSo15D2zHuU",authDomain:"mst-com.firebaseapp.com",projectId:"mst-com",storageBucket:"mst-com.appspot.com",messagingSenderId:"941531906965",appId:"1:941531906965:web:6ede067b306174e87e2c9c"}),nv=function(e,t){const n="object"==typeof e?e:kr(),r="string"==typeof e?e:t||Ys,i=mr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Rt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&gd(i,...e)}return i}(tv),rv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();const t=mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Qg,persistence:[ig,Um,qm]}),r=Lt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Jg)return;const r=null===t||void 0===t?void 0:t.token;Zg!==r&&(Zg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){rn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){rn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Rt("auth");return s&&im(n,"http://".concat(s)),n}(tv),iv=async(e,t)=>{try{const n=await function(e,t,n){return gr(e.app)?Promise.reject(Vf(e)):Dm(rn(e),vm.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Om(e),t})}(rv,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},sv=async(e,t)=>{try{const n=await async function(e,t,n){if(gr(e.app))return Promise.reject(Vf(e));const r=Kp(e),i=nm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Em,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Om(e),t}),a=await Sm._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(rv,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},av=async()=>{try{return await function(e){return rn(e).signOut()}(rv),{success:!0}}catch(e){return{success:!1,error:e.message}}},ov=e=>function(e,t,n,r){return rn(e).onAuthStateChanged(t,n,r)}(rv,e),lv=async e=>{try{if(!rv.currentUser)throw new Error("User not authenticated");return await function(e){return If(hd(e.firestore,Td),[new il(e._key,Wo.none())])}(kd(nv,"sales",e)),{success:!0}}catch(t){return{success:!1,error:t.message}}},cv=e=>{const t=rv.currentUser;if(!t)return null;const n=cf(wd(nv,"sales"),hf("userId","==",t.uid),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sf("orderBy",e);return ff._create(n,t)}("createdAt","desc"));return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=rn(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Sd(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Sd(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof yd)h=hd(e.firestore,Td),d=Ja(e._key.path),u={next:t=>{n[l]&&n[l](Nf(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=hd(e,vd);h=hd(t.firestore,Td),d=t._query;const r=new Ef(h);u={next:e=>{n[l]&&n[l](new xf(h,r,t,e))},error:n[l+1],complete:n[l+2]},af(e._query)}return function(e,t,n,r){const i=new Yh(r),s=new mh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>lh(await rd(e),s)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>ch(await rd(e),s))}}(Cd(h),d,c,u)}(n,t=>{const n=[];t.forEach(e=>{n.push(c({id:e.id},e.data()))}),e(n)},e=>{console.error("Sales subscription error:",e)})},uv=async()=>{try{const e=rv.currentUser;if(!e)throw new Error("User not authenticated");const t=cf(wd(nv,"userSettings"),hf("userId","==",e.uid)),n=await Sf(t);if(n.empty)return{success:!0,settings:null};return{success:!0,settings:n.docs[0].data()}}catch(e){return{success:!1,error:e.message}}},hv=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dv=xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fv=xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pv=xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var mv=n(579);const gv=e=>{let{userSettings:t,weather:n,onOpenSearch:i,onToggleSettings:s,onOpenSettingsModal:a,onSetProfile:o,onToggleTheme:l,onToggleTempUnit:c,onSignOut:u,showSettingsMenu:h,user:d}=e;const[f,p]=r.useState("--:-- --");return r.useEffect(()=>{const e=()=>{const e=new Date;p(e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,mv.jsx)("header",{className:"bg-white dark:bg-slate-900 shadow-md",children:(0,mv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mv.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,mv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mv.jsx)("img",{src:"https://i.ibb.co/1tYMnVRF/ATTLogo-Main.png",alt:"AT&T Logo",className:"h-8"}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("h1",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Commission Tracker"}),d&&(0,mv.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.email})]})]}),(0,mv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mv.jsxs)("div",{className:"hidden md:block text-right",children:[(0,mv.jsx)("p",{className:"text-lg font-semibold text-att-blue",children:f}),(0,mv.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:n.temp?"".concat(n.temp,"\xb0").concat(t.tempUnit," ").concat(n.condition):"Loading..."})]}),(0,mv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mv.jsx)("button",{onClick:i,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",children:(0,mv.jsx)(hv,{className:"w-5 h-5"})}),(0,mv.jsx)("button",{onClick:a,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 md:hidden",children:(0,mv.jsx)(dv,{className:"w-5 h-5"})}),(0,mv.jsxs)("div",{className:"relative hidden md:inline-block",children:[(0,mv.jsx)("button",{onClick:s,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",children:(0,mv.jsx)(dv,{className:"w-5 h-5"})}),h&&(0,mv.jsx)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-xl z-20 border dark:border-slate-700",children:(0,mv.jsxs)("div",{className:"p-2 text-sm",children:[(0,mv.jsxs)("button",{onClick:()=>{o(),s()},className:"w-full text-left px-3 py-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[(0,mv.jsx)(fv,{className:"w-4 h-4"})," Set Profile Name"]}),(0,mv.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,mv.jsx)("span",{children:"Dark Mode"}),(0,mv.jsx)("button",{onClick:l,className:"relative inline-flex items-center h-6 rounded-full w-11 transition-colors ".concat("dark"===t.theme?"bg-att-blue":"bg-slate-200"),children:(0,mv.jsx)("span",{className:"inline-block w-4 h-4 transform bg-white rounded-full transition-transform ".concat("dark"===t.theme?"translate-x-5":"")})})]}),(0,mv.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,mv.jsx)("span",{children:"Temp Unit"}),(0,mv.jsx)("button",{onClick:c,className:"px-3 py-1 text-xs rounded-md bg-slate-200 dark:bg-slate-700",children:"\xb0C / \xb0F"})]}),d&&(0,mv.jsxs)(mv.Fragment,{children:[(0,mv.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 my-1"}),(0,mv.jsxs)("button",{onClick:()=>{u(),s()},className:"w-full text-left px-3 py-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 text-red-500 flex items-center gap-2",children:[(0,mv.jsx)(pv,{className:"w-4 h-4"})," Sign Out"]})]})]})})]})]})]})]})})})},vv=xt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),yv=xt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bv=xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),wv=e=>{let{metrics:t,onOpenSaleModal:n}=e;return(0,mv.jsx)("div",{className:"md:hidden mb-4",children:(0,mv.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,mv.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm",children:[(0,mv.jsx)("h3",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Sales"}),(0,mv.jsx)("p",{className:"font-bold text-lg text-att-blue",children:t.totalSales})]}),(0,mv.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm",children:[(0,mv.jsx)("h3",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Commission"}),(0,mv.jsxs)("p",{className:"font-bold text-lg text-emerald-600",children:["$",t.totalCommission.toFixed(0)]})]}),(0,mv.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm",children:[(0,mv.jsx)("h3",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Avg Comm."}),(0,mv.jsxs)("p",{className:"font-bold text-lg text-amber-600",children:["$",t.avgCommission.toFixed(0)]})]})]})})},kv=e=>{let{metrics:t,onOpenSaleModal:n}=e;return(0,mv.jsxs)("div",{className:"hidden md:block mb-6",children:[(0,mv.jsxs)("div",{className:"flex justify-end items-center gap-4 mb-4",children:[(0,mv.jsxs)("a",{href:"https://mst.att.com",target:"_blank",rel:"noopener noreferrer",className:"btn bg-white border border-slate-300 dark:border-slate-700 text-att-blue hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,mv.jsx)(_t,{className:"w-4 h-4 mr-2"}),"Open MST"]}),(0,mv.jsxs)("button",{onClick:n,className:"btn btn-primary",children:[(0,mv.jsx)(Et,{className:"w-4 h-4 mr-2"}),"Log New Sale"]})]}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mv.jsxs)("div",{className:"card flex items-center gap-4 p-5",children:[(0,mv.jsx)("div",{className:"bg-att-blue/10 p-3 rounded-full",children:(0,mv.jsx)(vv,{className:"w-6 h-6 text-att-blue"})}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("h2",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Total Sales"}),(0,mv.jsx)("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:t.totalSales})]})]}),(0,mv.jsxs)("div",{className:"card flex items-center gap-4 p-5",children:[(0,mv.jsx)("div",{className:"bg-emerald-500/10 p-3 rounded-full",children:(0,mv.jsx)(yv,{className:"w-6 h-6 text-emerald-600"})}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("h2",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Total Commission"}),(0,mv.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:["$",t.totalCommission.toFixed(2)]})]})]}),(0,mv.jsxs)("div",{className:"card flex items-center gap-4 p-5",children:[(0,mv.jsx)("div",{className:"bg-amber-500/10 p-3 rounded-full",children:(0,mv.jsx)(bv,{className:"w-6 h-6 text-amber-600"})}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("h2",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Average Commission"}),(0,mv.jsxs)("p",{className:"text-2xl font-bold text-amber-600",children:["$",t.avgCommission.toFixed(2)]})]})]})]})]})},xv=xt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),_v=e=>{let{goals:t,progress:n,onEditGoals:r}=e;const i=e=>e.charAt(0).toUpperCase()+e.slice(1),s=(e,r)=>(0,mv.jsxs)("div",{className:"space-y-3",children:[(0,mv.jsx)("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm",children:r}),(null===t||void 0===t?void 0:t[e])&&Object.entries(t[e]).map(t=>{let[r,s]=t;const a=((e,t)=>{var r;const i="tv"===e?"TV":e.charAt(0).toUpperCase()+e.slice(1);return(null===n||void 0===n||null===(r=n[t])||void 0===r?void 0:r[i])||0})(r,"weekly"===e?"weeklyProgress":"monthlyProgress"),o=s>0?Math.min(a/s*100,100):0;return(0,mv.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-3",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,mv.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:i(r)}),(0,mv.jsxs)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a,"/",s]})]}),(0,mv.jsx)("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:(0,mv.jsx)("div",{className:"bg-att-blue h-2 rounded-full transition-all duration-300",style:{width:"".concat(o,"%")}})})]},r)})]});return(0,mv.jsxs)("div",{className:"card",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mv.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Goals"}),(0,mv.jsx)("button",{onClick:r,className:"text-att-blue hover:text-blue-700 dark:hover:text-blue-300",children:(0,mv.jsx)(xv,{className:"w-4 h-4"})})]}),(0,mv.jsxs)("div",{className:"space-y-6",children:[s("weekly","Weekly Goals"),(0,mv.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700"}),s("monthly","Monthly Goals")]})]})},Ev=xt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Sv=xt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Tv=xt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),Cv=xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Iv=e=>{let{sales:t,onAddSale:n,onDeleteSale:r,filterProduct:i,sortSales:s,onFilterChange:a,onSortChange:o}=e;const l=e=>{switch(e){case"Mobile":return(0,mv.jsx)(Ev,{className:"w-4 h-4"});case"Internet":return(0,mv.jsx)(Sv,{className:"w-4 h-4"});case"DirecTV":return(0,mv.jsx)(Tv,{className:"w-4 h-4"});default:return null}};return(0,mv.jsxs)("div",{className:"card p-0",children:[(0,mv.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 p-4",children:[(0,mv.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Sales Log"}),(0,mv.jsxs)("div",{className:"flex items-center space-x-2 mt-3 md:mt-0",children:[(0,mv.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"form-input !py-1.5 !text-sm",children:[(0,mv.jsx)("option",{value:"all",children:"All"}),(0,mv.jsx)("option",{value:"Mobile",children:"Mobile"}),(0,mv.jsx)("option",{value:"Internet",children:"Internet"}),(0,mv.jsx)("option",{value:"DirecTV",children:"TV"})]}),(0,mv.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"form-input !py-1.5 !text-sm",children:[(0,mv.jsx)("option",{value:"date_desc",children:"Newest"}),(0,mv.jsx)("option",{value:"date_asc",children:"Oldest"}),(0,mv.jsx)("option",{value:"commission_desc",children:"High Comm."}),(0,mv.jsx)("option",{value:"commission_asc",children:"Low Comm."})]})]})]}),0===t.length?(0,mv.jsxs)("div",{className:"text-center py-16 text-slate-500 dark:text-slate-400",children:[(0,mv.jsx)(vv,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),(0,mv.jsx)("p",{className:"font-semibold",children:"No sales logged yet."}),(0,mv.jsx)("p",{className:"text-sm",children:'Click "Log New Sale" to get started.'})]}):(0,mv.jsx)("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.map(e=>{var t;const n=(null===(t=e.services[0])||void 0===t?void 0:t.category)||"Misc",i=(e=>{switch(e){case"Mobile":return"bg-blue-100 dark:bg-blue-900/50";case"Internet":return"bg-green-100 dark:bg-green-900/50";case"DirecTV":return"bg-purple-100 dark:bg-purple-900/50";default:return"bg-slate-100 dark:bg-slate-700"}})(n);return(0,mv.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[(0,mv.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,mv.jsx)("div",{className:"p-3 rounded-full ".concat(i),children:l(n)}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:e.customerName}),(0,mv.jsx)("ul",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium",children:e.services.map((e,t)=>(0,mv.jsxs)("li",{className:"flex items-center gap-2",children:[e.planName,e.lines?"(".concat(e.lines," lines)"):""]},t))}),(0,mv.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:ie(new Date(e.saleDate),"MMM dd, yyyy")}),e.notes&&(0,mv.jsxs)("p",{className:"text-xs text-slate-400 mt-1 italic",children:["Note: ",e.notes]})]})]}),(0,mv.jsxs)("div",{className:"flex items-center gap-4 mt-3 md:mt-0 w-full md:w-auto",children:[(0,mv.jsxs)("span",{className:"font-semibold text-emerald-600 text-lg",children:["$",e.totalCommission.toFixed(2)]}),(0,mv.jsx)("button",{onClick:()=>r(e.id),className:"p-2 text-slate-500 hover:text-red-600 dark:hover:text-red-400",title:"Delete sale",children:(0,mv.jsx)(Cv,{className:"w-5 h-5"})})]})]},e.id)})})]})},Nv=xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Av=xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Pv=xt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Dv=xt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ov=e=>{let{isOpen:t,onClose:n,onAuthSuccess:i}=e;const[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),v=()=>{l(""),u(""),d(""),a(!1),p(!1),g(!1),n()};return t?(0,mv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mv.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mv.jsx)("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:s?"Create Account":"Sign In"}),(0,mv.jsx)("button",{onClick:v,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:(0,mv.jsx)(St,{className:"w-5 h-5"})})]}),(0,mv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s&&c!==h)bt.error("Passwords do not match");else if(c.length<6)bt.error("Password must be at least 6 characters");else{g(!0);try{const e=s?await sv(o,c):await iv(o,c);e.success?(bt.success(s?"Account created successfully!":"Welcome back!"),i(e.user),v()):bt.error(e.error)}catch(t){bt.error("An error occurred. Please try again.")}finally{g(!1)}}},className:"space-y-4",children:[(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),(0,mv.jsxs)("div",{className:"relative",children:[(0,mv.jsx)(Nv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,mv.jsx)("input",{type:"email",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-att-blue focus:border-transparent dark:bg-slate-700 dark:text-slate-100",placeholder:"Enter your email",required:!0})]})]}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),(0,mv.jsxs)("div",{className:"relative",children:[(0,mv.jsx)(Av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,mv.jsx)("input",{type:f?"text":"password",value:c,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-12 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-att-blue focus:border-transparent dark:bg-slate-700 dark:text-slate-100",placeholder:"Enter your password",required:!0}),(0,mv.jsx)("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:f?(0,mv.jsx)(Pv,{className:"w-5 h-5"}):(0,mv.jsx)(Dv,{className:"w-5 h-5"})})]})]}),s&&(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Confirm Password"}),(0,mv.jsxs)("div",{className:"relative",children:[(0,mv.jsx)(Av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,mv.jsx)("input",{type:f?"text":"password",value:h,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-att-blue focus:border-transparent dark:bg-slate-700 dark:text-slate-100",placeholder:"Confirm your password",required:!0})]})]}),(0,mv.jsxs)("button",{type:"submit",disabled:m,className:"w-full bg-att-blue text-white py-2 px-4 rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[m?(0,mv.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,mv.jsx)(fv,{className:"w-5 h-5"}),m?"Loading...":s?"Create Account":"Sign In"]})]}),(0,mv.jsx)("div",{className:"mt-6 text-center",children:(0,mv.jsx)("button",{onClick:()=>a(!s),className:"text-att-blue hover:text-blue-800 text-sm",children:s?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})}):null},Rv=xt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Mv=e=>{var t;let{onClose:n,onSave:i,currentServices:s,setCurrentServices:a,productCatalog:o}=e;const[l,u]=(0,r.useState)({customerName:"",saleDate:ie(new Date,"yyyy-MM-dd"),notes:""}),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(1),[v,y]=(0,r.useState)([]),b=s.reduce((e,t)=>e+t.baseCommission+t.potentialBonus,0);return(0,mv.jsx)("div",{className:"modal-backdrop",children:(0,mv.jsxs)("div",{className:"modal-content",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mv.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Log New Sale"}),(0,mv.jsx)("button",{onClick:n,className:"text-slate-400 hover:text-slate-600",children:(0,mv.jsx)(St,{className:"w-6 h-6"})})]}),(0,mv.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),0===s.length)return;const t={customerName:l.customerName,saleDate:l.saleDate,services:s,notes:l.notes};i(t)},children:[(0,mv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Customer Name"}),(0,mv.jsx)("input",{type:"text",value:l.customerName,onChange:e=>u(t=>c(c({},t),{},{customerName:e.target.value})),className:"form-input",required:!0})]}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Sale Date"}),(0,mv.jsx)("input",{type:"date",value:l.saleDate,onChange:e=>u(t=>c(c({},t),{},{saleDate:e.target.value})),className:"form-input",required:!0})]})]}),(0,mv.jsx)("hr",{className:"my-4 dark:border-slate-700"}),(0,mv.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-lg",children:[(0,mv.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Add Service(s)"}),(0,mv.jsxs)("div",{className:"mb-4",children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"1. Select Category"}),(0,mv.jsxs)("select",{value:h,onChange:e=>d(e.target.value),className:"form-input",children:[(0,mv.jsx)("option",{value:"",children:"-- Select --"}),(0,mv.jsx)("option",{value:"Mobile",children:"Mobile"}),(0,mv.jsx)("option",{value:"Internet",children:"Internet"}),(0,mv.jsx)("option",{value:"DirecTV",children:"DirecTV"})]})]}),h&&(0,mv.jsxs)("div",{className:"space-y-4",children:[(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"2. Configure Service"}),(0,mv.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"form-input",children:[(0,mv.jsx)("option",{value:"",children:"-- Select Plan --"}),Object.keys(o[h].plans).map(e=>(0,mv.jsx)("option",{value:e,children:e},e))]})]}),"Mobile"===h&&f&&(null===(t=o.Mobile.plans[f])||void 0===t?void 0:t.hasLines)&&(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Number of Lines"}),(0,mv.jsx)("input",{type:"number",value:m,onChange:e=>g(parseInt(e.target.value)||1),className:"form-input",min:"1"})]}),"Mobile"===h&&(0,mv.jsxs)("div",{children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Add-ons"}),(0,mv.jsx)("div",{className:"space-y-2",children:Object.keys(o.Mobile.addOns).map(e=>(0,mv.jsxs)("div",{className:"flex items-center",children:[(0,mv.jsx)("input",{type:"checkbox",id:"addon-".concat(e),checked:v.includes(e),onChange:t=>{t.target.checked?y(t=>[...t,e]):y(t=>t.filter(t=>t!==e))},className:"h-4 w-4 text-att-blue rounded"}),(0,mv.jsx)("label",{htmlFor:"addon-".concat(e),className:"ml-2 text-sm",children:e})]},e))})]})]}),(0,mv.jsxs)("button",{type:"button",onClick:()=>{if(!h||!f)return;const e=o[h],t=e.plans[f],n={category:h,planName:f,baseCommission:0,potentialBonus:0,addOns:[],lines:null};if("Mobile"===h){const r=v.includes("AT&T Next Up");let i=t.baseCommission,s=0;r&&t.baseCommission>0&&e.addOns["AT&T Next Up"].combo[f]&&(s=e.addOns["AT&T Next Up"].combo[f]-i),v.forEach(t=>{i+=e.addOns[t].commission}),n.addOns=v,t.hasLines?(n.baseCommission=i*m,n.potentialBonus=s*m,n.lines=m):(n.baseCommission=i,n.potentialBonus=s)}else n.baseCommission=t.baseCommission;a(e=>[...e,n]),p(""),y([]),g(1)},disabled:!h||!f,className:"mt-4 w-full flex items-center justify-center bg-att-blue-light text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50",children:[(0,mv.jsx)(Et,{className:"w-4 h-4 mr-2"}),"Add Service"]})]}),(0,mv.jsx)("hr",{className:"my-4 dark:border-slate-700"}),(0,mv.jsxs)("div",{children:[(0,mv.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Services in this Sale"}),(0,mv.jsx)("div",{className:"space-y-2",children:0===s.length?(0,mv.jsx)("p",{className:"text-sm text-center py-4",children:"No services added yet."}):s.map((e,t)=>(0,mv.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-2 rounded-lg flex justify-between items-center",children:[(0,mv.jsxs)("div",{children:[(0,mv.jsxs)("p",{className:"font-semibold",children:[e.planName,e.lines?" (".concat(e.lines," lines)"):""]}),(0,mv.jsx)("p",{className:"text-sm text-slate-500",children:e.category})]}),(0,mv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mv.jsxs)("span",{className:"font-medium text-emerald-500",children:["$",(e.baseCommission+e.potentialBonus).toFixed(2)]}),(0,mv.jsx)("button",{type:"button",onClick:()=>(e=>{a(t=>t.filter((t,n)=>n!==e))})(t),className:"p-1 text-red-500 hover:text-red-700",children:(0,mv.jsx)(St,{className:"w-4 h-4"})})]})]},t))})]}),(0,mv.jsxs)("div",{className:"mt-4 bg-slate-100 dark:bg-slate-800 p-3 rounded-lg flex justify-between items-center",children:[(0,mv.jsx)("span",{className:"text-lg font-bold",children:"Total Commission:"}),(0,mv.jsxs)("span",{className:"text-2xl font-bold text-emerald-600",children:["$",b.toFixed(2)]})]}),(0,mv.jsxs)("div",{className:"mt-4",children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),(0,mv.jsx)("textarea",{value:l.notes,onChange:e=>u(t=>c(c({},t),{},{notes:e.target.value})),rows:"3",className:"form-input"})]}),(0,mv.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,mv.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),(0,mv.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Sale"})]})]})]})})},Lv=e=>{let{goals:t,onSave:n,onClose:i}=e;const[s,a]=(0,r.useState)(t);return(0,mv.jsx)("div",{className:"modal-backdrop",children:(0,mv.jsxs)("div",{className:"modal-content",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mv.jsx)("h2",{className:"text-2xl font-bold",children:"Set Performance Goals"}),(0,mv.jsx)("button",{onClick:i,className:"text-slate-400 hover:text-slate-600",children:(0,mv.jsx)(St,{className:"w-6 h-6"})})]}),(0,mv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},className:"space-y-6",children:[(0,mv.jsxs)("fieldset",{children:[(0,mv.jsxs)("legend",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[(0,mv.jsx)(Rv,{className:"w-5 h-5"}),"Weekly Goals"]}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,mv.jsxs)("label",{className:"block",children:["Mobile Lines",(0,mv.jsx)("input",{type:"number",value:s.weekly.mobile,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{mobile:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["Internet",(0,mv.jsx)("input",{type:"number",value:s.weekly.internet,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{internet:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["TV",(0,mv.jsx)("input",{type:"number",value:s.weekly.tv,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{tv:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]})]})]}),(0,mv.jsxs)("fieldset",{children:[(0,mv.jsxs)("legend",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[(0,mv.jsx)(Rv,{className:"w-5 h-5"}),"Monthly Goals"]}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,mv.jsxs)("label",{className:"block",children:["Mobile Lines",(0,mv.jsx)("input",{type:"number",value:s.monthly.mobile,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{mobile:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["Internet",(0,mv.jsx)("input",{type:"number",value:s.monthly.internet,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{internet:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["TV",(0,mv.jsx)("input",{type:"number",value:s.monthly.tv,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{tv:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]})]})]}),(0,mv.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,mv.jsx)("button",{type:"button",onClick:i,className:"btn btn-secondary",children:"Cancel"}),(0,mv.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Goals"})]})]})]})})},jv=e=>{let{name:t,onSave:n,onClose:i}=e;const[s,a]=(0,r.useState)(t);return(0,mv.jsx)("div",{className:"modal-backdrop",children:(0,mv.jsxs)("div",{className:"modal-content",children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mv.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,mv.jsx)(fv,{className:"w-6 h-6"}),"Set Profile Name"]}),(0,mv.jsx)("button",{onClick:i,className:"text-slate-400 hover:text-slate-600",children:(0,mv.jsx)(St,{className:"w-6 h-6"})})]}),(0,mv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Your Name"}),(0,mv.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),className:"form-input",required:!0}),(0,mv.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,mv.jsx)("button",{type:"button",onClick:i,className:"btn btn-secondary",children:"Cancel"}),(0,mv.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Name"})]})]})]})})},Uv=e=>{let{onUnlock:t,pinLock:n}=e;const[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)("");return(0,mv.jsx)("div",{className:"modal-backdrop",children:(0,mv.jsxs)("div",{className:"modal-content",children:[(0,mv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,mv.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,mv.jsx)(Av,{className:"w-6 h-6"}),"App Lock"]})}),(0,mv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i===n.pin?t():(o("Incorrect PIN"),s(""))},children:[(0,mv.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Enter PIN"}),(0,mv.jsx)("input",{type:"password",value:i,onChange:e=>{s(e.target.value),o("")},maxLength:"6",className:"form-input mb-4",placeholder:a||"Enter PIN",required:!0,autoFocus:!0}),(0,mv.jsx)("div",{className:"flex justify-end space-x-3",children:(0,mv.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Unlock"})})]})]})})},Fv=e=>{let{query:t,onQueryChange:n,onClose:r}=e;return(0,mv.jsx)("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-50 w-full max-w-xs",children:(0,mv.jsxs)("div",{className:"relative",children:[(0,mv.jsx)("input",{type:"search",value:t,onChange:e=>n(e.target.value),placeholder:"Search sales...",className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 shadow","aria-label":"Search sales",autoFocus:!0}),(0,mv.jsx)("button",{onClick:r,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-red-500","aria-label":"Close search",children:(0,mv.jsx)(St,{className:"w-4 h-4"})})]})})},Vv=e=>{let{onComplete:t}=e;const[n,i]=(0,r.useState)(0),[s,a]=(0,r.useState)({weekly:{mobile:10,internet:5,tv:2},monthly:{mobile:40,internet:20,tv:8}}),o=[{title:"Welcome!",content:(0,mv.jsxs)("div",{className:"text-center",children:[(0,mv.jsx)("img",{src:"https://i.ibb.co/1tYMnVRF/ATTLogo-Main.png",alt:"AT&T Emblem",className:"h-12 mx-auto mb-4"}),(0,mv.jsx)("h1",{className:"text-2xl font-bold text-att-gray dark:text-slate-200 mb-2",children:"Welcome to AT&T Commission Tracker"}),(0,mv.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Track your sales, set goals, and stay motivated. Your data is private and never leaves your device."}),(0,mv.jsxs)("ul",{className:"text-left text-sm text-slate-600 dark:text-slate-300 mb-6 list-disc list-inside",children:[(0,mv.jsx)("li",{children:"\u2714\ufe0f Local, private storage"}),(0,mv.jsx)("li",{children:"\u2714\ufe0f Set and track weekly, monthly, quarterly, and yearly goals"}),(0,mv.jsx)("li",{children:"\u2714\ufe0f PIN lock for extra privacy"}),(0,mv.jsx)("li",{children:"\u2714\ufe0f Export/import your data anytime"})]})]})},{title:"Set Your Initial Goals",content:(0,mv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s)},children:[(0,mv.jsx)("p",{className:"text-center text-slate-500 mb-6",children:"You can change these later in the settings."}),(0,mv.jsxs)("fieldset",{className:"border-t pt-4 dark:border-slate-700",children:[(0,mv.jsx)("legend",{className:"font-semibold text-lg mb-2 px-2",children:"Weekly Goals"}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,mv.jsxs)("label",{className:"block",children:["Mobile Lines",(0,mv.jsx)("input",{type:"number",value:s.weekly.mobile,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{mobile:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["Internet",(0,mv.jsx)("input",{type:"number",value:s.weekly.internet,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{internet:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["TV",(0,mv.jsx)("input",{type:"number",value:s.weekly.tv,onChange:e=>a(t=>c(c({},t),{},{weekly:c(c({},t.weekly),{},{tv:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]})]})]}),(0,mv.jsxs)("fieldset",{className:"border-t pt-4 dark:border-slate-700",children:[(0,mv.jsx)("legend",{className:"font-semibold text-lg mb-2 px-2",children:"Monthly Goals"}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,mv.jsxs)("label",{className:"block",children:["Mobile Lines",(0,mv.jsx)("input",{type:"number",value:s.monthly.mobile,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{mobile:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["Internet",(0,mv.jsx)("input",{type:"number",value:s.monthly.internet,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{internet:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]}),(0,mv.jsxs)("label",{className:"block",children:["TV",(0,mv.jsx)("input",{type:"number",value:s.monthly.tv,onChange:e=>a(t=>c(c({},t),{},{monthly:c(c({},t.monthly),{},{tv:parseInt(e.target.value)||0})})),className:"form-input mt-1",min:"0"})]})]})]}),(0,mv.jsx)("div",{className:"flex justify-end pt-4",children:(0,mv.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Start Tracking"})})]})}];return(0,mv.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-att-light-gray p-4",children:(0,mv.jsxs)("div",{className:"w-full max-w-lg mx-auto bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,mv.jsx)("h2",{className:"text-2xl font-bold mb-2 text-center",children:o[n].title}),o[n].content,(0,mv.jsx)("div",{className:"mt-8",children:(0,mv.jsx)("button",{onClick:()=>t(s),className:"w-full bg-att-blue text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-800 transition-colors duration-300 text-lg",children:"Get Started"})})]})})},zv=e=>{let{isOpen:t,onClose:n,onSetProfile:r,onToggleTheme:i,onToggleTempUnit:s,onSignOut:a,user:o}=e;return t?(0,mv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex flex-col justify-end z-50 md:hidden",onClick:n,children:(0,mv.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-t-2xl p-4 w-full animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,mv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mv.jsx)("h2",{className:"text-xl font-bold",children:"Settings"}),(0,mv.jsx)("button",{onClick:n,className:"p-2",children:(0,mv.jsx)(St,{className:"w-6 h-6"})})]}),(0,mv.jsxs)("div",{className:"space-y-2 text-lg",children:[(0,mv.jsxs)("button",{onClick:()=>{r(),n()},className:"w-full text-left p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[(0,mv.jsx)(fv,{className:"w-5 h-5"}),"Set Profile Name"]}),(0,mv.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg",children:[(0,mv.jsx)("span",{children:"Dark Mode"}),(0,mv.jsx)("button",{onClick:i,className:"relative inline-flex items-center h-6 rounded-full w-11 transition-colors bg-slate-200 dark:bg-slate-700",children:(0,mv.jsx)("span",{className:"inline-block w-4 h-4 transform bg-white rounded-full transition-transform dark:translate-x-5"})})]}),(0,mv.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg",children:[(0,mv.jsx)("span",{children:"Temp Unit"}),(0,mv.jsx)("button",{onClick:s,className:"px-3 py-1 text-sm rounded-md bg-slate-200 dark:bg-slate-700",children:"\xb0C / \xb0F"})]}),o&&(0,mv.jsxs)("button",{onClick:()=>{a(),n()},className:"w-full text-left p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-red-600 dark:text-red-400 flex items-center gap-2",children:[(0,mv.jsx)(pv,{className:"w-5 h-5"}),"Sign Out"]})]})]})}):null},Bv={Mobile:{plans:{"AT&T Unlimited Starter":{baseCommission:30,hasLines:!0},"AT&T Unlimited Extra":{baseCommission:40,hasLines:!0},"AT&T Unlimited Premium":{baseCommission:50,hasLines:!0},"BYOD w/ AT&T Starter":{baseCommission:20,hasLines:!1},"BYOD w/ AT&T Extra":{baseCommission:30,hasLines:!1},"BYOD w/ AT&T Premium":{baseCommission:40,hasLines:!1},"AT&T Device Upgrade":{baseCommission:5,hasLines:!1}},addOns:{"AT&T Next Up":{commission:10,combo:{"AT&T Unlimited Starter":40,"AT&T Unlimited Extra":60,"AT&T Unlimited Premium":70,"AT&T Device Upgrade":15}},"AT&T Protect Advantage for 1 Tier 1":{commission:14},"AT&T Protect Advantage for 1 Tier 2":{commission:17},"AT&T Protect Advantage for 4":{commission:50},"AT&T Turbo":{commission:7}}},Internet:{plans:{"AT&T Fiber 1000":{baseCommission:200},"AT&T Fiber 500":{baseCommission:150},"AT&T Fiber 300":{baseCommission:100},"AT&T Fiber 100":{baseCommission:100},"AT&T Fiber <100":{baseCommission:75}}},DirecTV:{plans:{"DirecTV Stream Premium":{baseCommission:50},"DirecTV Stream Basic":{baseCommission:40},"DirecTV Satellite Premium":{baseCommission:50},"DirecTV Satellite Basic":{baseCommission:40}}}};const qv=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)([]),[d,f]=(0,r.useState)({name:"",theme:"light",tempUnit:"F",initialSetupComplete:!1}),[p,g]=(0,r.useState)({weekly:{mobile:0,internet:0,tv:0},monthly:{mobile:0,internet:0,tv:0}}),[v,y]=(0,r.useState)({enabled:!1,pin:""}),[b,w]=(0,r.useState)([]),[k,x]=(0,r.useState)(""),[_,E]=(0,r.useState)("all"),[S,T]=(0,r.useState)("date_desc"),[C,I]=(0,r.useState)({temp:null,condition:"\u2600\ufe0f"}),[N,A]=(0,r.useState)(!0),[P,D]=(0,r.useState)(!1),[O,R]=(0,r.useState)(!1),[M,L]=(0,r.useState)(!1),[j,U]=(0,r.useState)(!1),[F,V]=(0,r.useState)(!1),[z,B]=(0,r.useState)(!1),[q,H]=(0,r.useState)(!1),[W,K]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(null),[Y,X]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=ov(e=>{t(e),i(!1),e?$():(a(!0),l([]),f({name:"",theme:"light",tempUnit:"F",initialSetupComplete:!1}),g({weekly:{mobile:0,internet:0,tv:0},monthly:{mobile:0,internet:0,tv:0}}))});return()=>e()},[]);const $=async()=>{try{const e=await uv();e.success&&e.settings&&(f(e.settings),document.documentElement.classList.toggle("dark","dark"===e.settings.theme));const t=await(async()=>{try{const e=rv.currentUser;if(!e)throw new Error("User not authenticated");const t=cf(wd(nv,"goals"),hf("userId","==",e.uid)),n=await Sf(t);return n.empty?{success:!0,goals:null}:{success:!0,goals:n.docs[0].data()}}catch(e){return{success:!1,error:e.message}}})();t.success&&t.goals&&g(t.goals);return cv(e=>{l(e)})}catch(e){console.error("Error loading user data:",e),bt.error("Failed to load user data")}},J=async()=>{try{await av(),bt.success("Signed out successfully")}catch(e){bt.error("Failed to sign out")}};(0,r.useEffect)(()=>{e&&d.name&&(async e=>{try{const t=rv.currentUser;if(!t)throw new Error("User not authenticated");const n=c(c({},e),{},{userId:t.uid,updatedAt:Af()});return await Tf(kd(nv,"userSettings",t.uid),n),{success:!0}}catch(t){try{const t=rv.currentUser,n=c(c({},e),{},{userId:t.uid,createdAt:Af(),updatedAt:Af()});return await Cf(wd(nv,"userSettings"),n),{success:!0}}catch(n){return{success:!1,error:n.message}}}})(d)},[d,e]),(0,r.useEffect)(()=>{e&&p.weekly.mobile>0&&(async e=>{try{const t=rv.currentUser;if(!t)throw new Error("User not authenticated");const n=c(c({},e),{},{userId:t.uid,updatedAt:Af()});return await Tf(kd(nv,"goals",t.uid),n),{success:!0}}catch(t){try{const t=rv.currentUser,n=c(c({},e),{},{userId:t.uid,createdAt:Af(),updatedAt:Af()});return await Cf(wd(nv,"goals"),n),{success:!0}}catch(n){return{success:!1,error:n.message}}}})(p)},[p,e]),(0,r.useEffect)(()=>{const e=()=>{Z()};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[d.tempUnit]);const Z=(0,r.useCallback)(async()=>{if(navigator.geolocation)try{const e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)}),{latitude:t,longitude:n}=e.coords,r=await fetch("https://api.open-meteo.com/v1/forecast?latitude=".concat(t,"&longitude=").concat(n,"&current_weather=true&temperature_unit=fahrenheit")),i=await r.json();if(null!==i&&void 0!==i&&i.current_weather){const e=i.current_weather.temperature,t=5*(e-32)/9,n="F"===d.tempUnit?e.toFixed(0):t.toFixed(0),r=i.current_weather.weathercode;let s="\u2600\ufe0f";r>70?s="\ud83c\udf27\ufe0f":r>50?s="\ud83c\udf26\ufe0f":r>2&&(s="\u2601\ufe0f"),I({temp:n,condition:s})}}catch(e){console.log("Weather unavailable")}},[d.tempUnit]),ee=r.useMemo(()=>{if(!o||0===o.length)return[];const e={};return o.forEach(t=>{const n=ie(m(new Date(t.saleDate),{weekStartsOn:1}),"yyyy-MM-dd");e[n]||(e[n]={sales:[],mobileLines:0}),e[n].sales.push(t);const r=t.services.reduce((e,t)=>"Mobile"===t.category&&t.lines?e+t.lines:e,0);e[n].mobileLines+=r}),Object.keys(e).forEach(t=>{e[t].bonusMet=e[t].mobileLines>=6}),o.map(t=>{var n;const r=ie(m(new Date(t.saleDate),{weekStartsOn:1}),"yyyy-MM-dd"),i=(null===(n=e[r])||void 0===n?void 0:n.bonusMet)||!1,s=t.services.reduce((e,t)=>{let n=t.baseCommission;return i&&(n+=t.potentialBonus),e+n},0);return c(c({},t),{},{totalCommission:s})})},[o]),te=r.useMemo(()=>{const e=ee.length,t=ee.reduce((e,t)=>e+t.totalCommission,0);return{totalSales:e,totalCommission:t,avgCommission:e>0?t/e:0}},[ee]),ne=r.useMemo(()=>{const e={Mobile:0,Internet:0,TV:0},t={Mobile:0,Internet:0,TV:0},n=m(new Date),r=function(e){u(1,arguments);var t=h(e);return t.setDate(1),t.setHours(0,0,0,0),t}(new Date);return o.forEach(i=>{const s=new Date(i.saleDate);i.services.forEach(i=>{const a="DirecTV"===i.category?"TV":i.category,o="Mobile"===a?i.lines||0:1;s>=r&&(t[a]+=o),s>=n&&(e[a]+=o)})}),{weeklyProgress:e,monthlyProgress:t}},[o]),re=r.useMemo(()=>{let e=[...ee];return"all"!==_&&(e=e.filter(e=>e.services.some(e=>e.category===_))),k&&(e=e.filter(e=>e.customerName.toLowerCase().includes(k.toLowerCase())||e.notes&&e.notes.toLowerCase().includes(k.toLowerCase()))),e.sort((e,t)=>{switch(S){case"date_asc":return new Date(e.saleDate)-new Date(t.saleDate);case"commission_desc":return t.totalCommission-e.totalCommission;case"commission_asc":return e.totalCommission-t.totalCommission;default:return new Date(t.saleDate)-new Date(e.saleDate)}}),e},[ee,_,k,S]),se=()=>{const e="light"===d.theme?"dark":"light";f(t=>c(c({},t),{},{theme:e})),document.documentElement.classList.toggle("dark","dark"===e)},ae=()=>{f(e=>c(c({},e),{},{tempUnit:"F"===e.tempUnit?"C":"F"}))},oe=e=>{g(e),f(e=>c(c({},e),{},{initialSetupComplete:!0})),D(!1),A(!1),bt.success("Welcome to AT&T Commission Tracker!")};return n?(0,mv.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:(0,mv.jsxs)("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-2xl text-center",children:[(0,mv.jsx)("img",{src:"https://i.ibb.co/1tYMnVRF/ATTLogo-Main.png",alt:"AT&T Emblem",className:"h-12 mx-auto mb-4"}),(0,mv.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"AT&T Commission Tracker"}),(0,mv.jsx)("div",{className:"flex justify-center mt-6",children:(0,mv.jsx)("div",{className:"w-8 h-8 border-4 border-att-blue border-t-transparent rounded-full animate-spin"})}),(0,mv.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-4",children:"Loading..."})]})}):N?(0,mv.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:(0,mv.jsxs)("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-2xl text-center",children:[(0,mv.jsx)("img",{src:"https://i.ibb.co/1tYMnVRF/ATTLogo-Main.png",alt:"AT&T Emblem",className:"h-12 mx-auto mb-4"}),(0,mv.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"AT&T Commission Tracker"}),(0,mv.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[(0,mv.jsx)("h2",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-3",children:"Important Disclaimer"}),(0,mv.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 text-left leading-relaxed",children:(0,mv.jsx)("strong",{children:"This is an assistant tool for tracking purposes only."})}),(0,mv.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-300 text-left mt-3 space-y-1",children:[(0,mv.jsx)("li",{children:"\u2022 Your data is stored securely in the cloud and synced across devices"}),(0,mv.jsx)("li",{children:"\u2022 This tool is for personal use and tracking only"}),(0,mv.jsx)("li",{children:"\u2022 Any discrepancies in official commission calculations must be handled with HR or your direct supervisor"}),(0,mv.jsx)("li",{children:"\u2022 This is not an official AT&T application"})]})]}),(0,mv.jsxs)("div",{className:"space-y-3",children:[(0,mv.jsx)("button",{onClick:()=>A(!1),className:"w-full bg-att-blue text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-800 transition-colors duration-300 text-lg",children:"I Understand and Agree"}),(0,mv.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:'By clicking "I Understand and Agree", you acknowledge that you have read and understood this disclaimer.'})]})]})}):P?(0,mv.jsx)(Vv,{onComplete:oe}):O?(0,mv.jsx)(Uv,{onUnlock:()=>R(!1),pinLock:v}):(0,mv.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200 ".concat(d.theme),children:[(0,mv.jsx)(yt,{position:"top-right"}),(0,mv.jsx)(Ov,{isOpen:s,onClose:()=>a(!1),onAuthSuccess:async e=>{t(e),a(!1);const n=await uv();n.success&&n.settings?A(!1):D(!0)}}),(0,mv.jsx)(gv,{userSettings:d,weather:C,onOpenSearch:()=>H(!0),onToggleSettings:()=>B(!z),onOpenSettingsModal:()=>K(!0),onSetProfile:()=>V(!0),onToggleTheme:se,onToggleTempUnit:ae,onSignOut:J,showSettingsMenu:z,user:e}),(0,mv.jsx)("main",{className:"flex-1 bg-slate-50 dark:bg-slate-900",children:(0,mv.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,mv.jsx)(wv,{metrics:te,onOpenSaleModal:()=>L(!0)}),(0,mv.jsxs)("div",{className:"flex justify-end items-center gap-4 mb-4 md:hidden",children:[(0,mv.jsxs)("a",{href:"https://mst.att.com",target:"_blank",rel:"noopener noreferrer",className:"btn bg-white border border-slate-300 dark:border-slate-700 text-att-blue hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,mv.jsx)(_t,{className:"w-4 h-4 mr-2"}),"Open MST"]}),(0,mv.jsxs)("button",{onClick:()=>L(!0),className:"btn btn-primary",children:[(0,mv.jsx)(Et,{className:"w-4 h-4 mr-2"}),"Log Sale"]})]}),(0,mv.jsx)(kv,{metrics:te,onOpenSaleModal:()=>L(!0)}),(0,mv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,mv.jsx)("div",{className:"lg:col-span-2",children:(0,mv.jsx)(Iv,{sales:re,onDeleteSale:async e=>{try{const t=await lv(e);if(t.success){const t=o.find(t=>t.id===e);if(t){Q({sale:t,id:e}),Y&&clearTimeout(Y);const n=setTimeout(()=>{Q(null)},6e3);X(n),bt.success("Sale deleted")}}else bt.error("Failed to delete sale: "+t.error)}catch(t){bt.error("Failed to delete sale")}},filterProduct:_,sortSales:S,onFilterChange:E,onSortChange:T,userSettings:d})}),(0,mv.jsx)("div",{children:(0,mv.jsx)(_v,{goals:p,progress:ne,onEditGoals:()=>U(!0)})})]})]})}),M&&(0,mv.jsx)(Mv,{onClose:()=>L(!1),onSave:async e=>{try{const t=await(async e=>{try{const t=rv.currentUser;if(!t)throw new Error("User not authenticated");const n=c(c({},e),{},{userId:t.uid,createdAt:Af(),updatedAt:Af()});return{success:!0,id:(await Cf(wd(nv,"sales"),n)).id}}catch(t){return{success:!1,error:t.message}}})(e);t.success?(w([]),L(!1),bt.success("Sale logged successfully!")):bt.error("Failed to log sale: "+t.error)}catch(t){bt.error("Failed to log sale")}},currentServices:b,setCurrentServices:w,productCatalog:Bv}),j&&(0,mv.jsx)(Lv,{goals:p,onSave:e=>{g(e),U(!1)},onClose:()=>U(!1)}),F&&(0,mv.jsx)(jv,{name:d.name,onSave:e=>{f(t=>c(c({},t),{},{name:e})),V(!1)},onClose:()=>V(!1)}),q&&(0,mv.jsx)(Fv,{query:k,onQueryChange:x,onClose:()=>H(!1)}),W&&(0,mv.jsx)(zv,{isOpen:W,onClose:()=>K(!1),onSetProfile:()=>V(!0),onToggleTheme:se,onToggleTempUnit:ae,onSignOut:J,user:e}),G&&(0,mv.jsxs)("button",{onClick:()=>{G&&(l(e=>[...e,G.sale]),Q(null),Y&&(clearTimeout(Y),X(null)),bt.success("Sale restored"))},className:"fixed bottom-4 left-4 z-50 bg-amber-500 text-white rounded-full p-3 shadow-lg hover:bg-amber-700 flex items-center gap-2",children:[(0,mv.jsx)(St,{className:"w-4 h-4"}),"Undo Delete"]}),(0,mv.jsx)("button",{onClick:()=>bt("All data is stored locally in your browser"),className:"fixed bottom-4 right-4 z-50 bg-att-blue text-white rounded-full p-3 shadow-lg hover:bg-blue-800",title:"Privacy Info",children:(0,mv.jsx)(Tt,{className:"w-6 h-6"})})]})};i.createRoot(document.getElementById("root")).render((0,mv.jsx)(r.StrictMode,{children:(0,mv.jsx)(qv,{})}))})();
//# sourceMappingURL=main.9cb4cf20.js.map